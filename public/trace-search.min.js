!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("TraceSearch",[],t):"object"==typeof exports?exports.TraceSearch=t():e.TraceSearch=t()}(this,(function(){return(()=>{var e,t,r={105:e=>{"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var r=[],n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}return e.call(this,[])}}},87:(e,t)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n="undefined"!=typeof window&&void 0!==window.document,o=("object"===("undefined"==typeof self?"undefined":r(self))&&self.constructor&&self.constructor.name,"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node);t.jU=n,t.UG=o,t.f7=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}},187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var o,s,i,c;if(u(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),i=s[t]),void 0===i)i=s[t]=r,++e._eventsCount;else if("function"==typeof i?i=s[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),(o=a(e))>0&&i.length>o&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=i.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=l.bind(n);return o.listener=r,n.wrapFn=o,o}function h(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):p(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(s){n.once&&e.removeEventListener(t,o),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var o="error"===e,s=this._events;if(void 0!==s)o=o&&void 0===s.error;else if(!o)return!1;if(o){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var u=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw u.context=i,u}var a=s[e];if(void 0===a)return!1;if("function"==typeof a)n(a,this,t);else{var c=a.length,l=p(a,c);for(r=0;r<c;++r)n(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,o,s,i;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){i=r[s].listener,o=s;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(o=s[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},624:(e,t,r)=>{"use strict";var n,o,s,i=[r(692),r(785),r(291),r(709),r(506),r(176)],u=-1,a=[],c=!1;function l(){n&&o&&(n=!1,o.length?a=o.concat(a):u=-1,a.length&&d())}function d(){if(!n){c=!1,n=!0;for(var e=a.length,t=setTimeout(l);e;){for(o=a,a=[];o&&++u<e;)o[u].run();u=-1,e=a.length}o=null,u=-1,n=!1,clearTimeout(t)}}for(var h=-1,f=i.length;++h<f;)if(i[h]&&i[h].test&&i[h].test()){s=i[h].install(d);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new p(e,t)),c||n||(c=!0,s())}},709:(e,t,r)=>{"use strict";t.test=function(){return!r.g.setImmediate&&void 0!==r.g.MessageChannel},t.install=function(e){var t=new r.g.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}},291:(e,t,r)=>{"use strict";var n=r.g.MutationObserver||r.g.WebKitMutationObserver;t.test=function(){return n},t.install=function(e){var t=0,o=new n(e),s=r.g.document.createTextNode("");return o.observe(s,{characterData:!0}),function(){s.data=t=++t%2}}},785:(e,t,r)=>{"use strict";t.test=function(){return"function"==typeof r.g.queueMicrotask},t.install=function(e){return function(){r.g.queueMicrotask(e)}}},506:(e,t,r)=>{"use strict";t.test=function(){return"document"in r.g&&"onreadystatechange"in r.g.document.createElement("script")},t.install=function(e){return function(){var t=r.g.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},r.g.document.documentElement.appendChild(t),e}}},176:(e,t)=>{"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},300:(e,t)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).substr(1));t.default=function(e,t){const n=t||0,o=r;return(o[e[n+0]]+o[e[n+1]]+o[e[n+2]]+o[e[n+3]]+"-"+o[e[n+4]]+o[e[n+5]]+"-"+o[e[n+6]]+o[e[n+7]]+"-"+o[e[n+8]]+o[e[n+9]]+"-"+o[e[n+10]]+o[e[n+11]]+o[e[n+12]]+o[e[n+13]]+o[e[n+14]]+o[e[n+15]]).toLowerCase()}},521:(e,t,r)=>{"use strict";Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return i.default}});var n=u(r(532)),o=u(r(829)),s=u(r(608)),i=u(r(622));function u(e){return e&&e.__esModule?e:{default:e}}},199:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e,t,r,o,s,i){return n((u=n(n(t,e),n(o,i)))<<(a=s)|u>>>32-a,r);var u,a}function s(e,t,r,n,s,i,u){return o(t&r|~t&n,e,t,s,i,u)}function i(e,t,r,n,s,i,u){return o(t&n|r&~n,e,t,s,i,u)}function u(e,t,r,n,s,i,u){return o(t^r^n,e,t,s,i,u)}function a(e,t,r,n,s,i,u){return o(r^(t|~n),e,t,s,i,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let o=0;o<r;o+=8){const r=e[o>>5]>>>o%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let o=1732584193,c=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const r=o,h=c,f=l,p=d;o=s(o,c,l,d,e[t],7,-680876936),d=s(d,o,c,l,e[t+1],12,-389564586),l=s(l,d,o,c,e[t+2],17,606105819),c=s(c,l,d,o,e[t+3],22,-1044525330),o=s(o,c,l,d,e[t+4],7,-176418897),d=s(d,o,c,l,e[t+5],12,1200080426),l=s(l,d,o,c,e[t+6],17,-1473231341),c=s(c,l,d,o,e[t+7],22,-45705983),o=s(o,c,l,d,e[t+8],7,1770035416),d=s(d,o,c,l,e[t+9],12,-1958414417),l=s(l,d,o,c,e[t+10],17,-42063),c=s(c,l,d,o,e[t+11],22,-1990404162),o=s(o,c,l,d,e[t+12],7,1804603682),d=s(d,o,c,l,e[t+13],12,-40341101),l=s(l,d,o,c,e[t+14],17,-1502002290),c=s(c,l,d,o,e[t+15],22,1236535329),o=i(o,c,l,d,e[t+1],5,-165796510),d=i(d,o,c,l,e[t+6],9,-1069501632),l=i(l,d,o,c,e[t+11],14,643717713),c=i(c,l,d,o,e[t],20,-373897302),o=i(o,c,l,d,e[t+5],5,-701558691),d=i(d,o,c,l,e[t+10],9,38016083),l=i(l,d,o,c,e[t+15],14,-660478335),c=i(c,l,d,o,e[t+4],20,-405537848),o=i(o,c,l,d,e[t+9],5,568446438),d=i(d,o,c,l,e[t+14],9,-1019803690),l=i(l,d,o,c,e[t+3],14,-187363961),c=i(c,l,d,o,e[t+8],20,1163531501),o=i(o,c,l,d,e[t+13],5,-1444681467),d=i(d,o,c,l,e[t+2],9,-51403784),l=i(l,d,o,c,e[t+7],14,1735328473),c=i(c,l,d,o,e[t+12],20,-1926607734),o=u(o,c,l,d,e[t+5],4,-378558),d=u(d,o,c,l,e[t+8],11,-2022574463),l=u(l,d,o,c,e[t+11],16,1839030562),c=u(c,l,d,o,e[t+14],23,-35309556),o=u(o,c,l,d,e[t+1],4,-1530992060),d=u(d,o,c,l,e[t+4],11,1272893353),l=u(l,d,o,c,e[t+7],16,-155497632),c=u(c,l,d,o,e[t+10],23,-1094730640),o=u(o,c,l,d,e[t+13],4,681279174),d=u(d,o,c,l,e[t],11,-358537222),l=u(l,d,o,c,e[t+3],16,-722521979),c=u(c,l,d,o,e[t+6],23,76029189),o=u(o,c,l,d,e[t+9],4,-640364487),d=u(d,o,c,l,e[t+12],11,-421815835),l=u(l,d,o,c,e[t+15],16,530742520),c=u(c,l,d,o,e[t+2],23,-995338651),o=a(o,c,l,d,e[t],6,-198630844),d=a(d,o,c,l,e[t+7],10,1126891415),l=a(l,d,o,c,e[t+14],15,-1416354905),c=a(c,l,d,o,e[t+5],21,-57434055),o=a(o,c,l,d,e[t+12],6,1700485571),d=a(d,o,c,l,e[t+3],10,-1894986606),l=a(l,d,o,c,e[t+10],15,-1051523),c=a(c,l,d,o,e[t+1],21,-2054922799),o=a(o,c,l,d,e[t+8],6,1873313359),d=a(d,o,c,l,e[t+15],10,-30611744),l=a(l,d,o,c,e[t+6],15,-1560198380),c=a(c,l,d,o,e[t+13],21,1309151649),o=a(o,c,l,d,e[t+4],6,-145523070),d=a(d,o,c,l,e[t+11],10,-1120210379),l=a(l,d,o,c,e[t+2],15,718787259),c=a(c,l,d,o,e[t+9],21,-343485551),o=n(o,r),c=n(c,h),l=n(l,f),d=n(d,p)}return[o,c,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}},234:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16)},818:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}e.push(128);const s=e.length/4+2,i=Math.ceil(s/16),u=new Array(i);for(let t=0;t<i;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];u[t]=r}u[i-1][14]=8*(e.length-1)/Math.pow(2,32),u[i-1][14]=Math.floor(u[i-1][14]),u[i-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<i;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=u[e][t];for(let e=16;e<80;++e)s[e]=n(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let i=o[0],a=o[1],c=o[2],l=o[3],d=o[4];for(let e=0;e<80;++e){const o=Math.floor(e/20),u=n(i,5)+r(o,a,c,l)+d+t[o]+s[e]>>>0;d=l,l=c,c=n(a,30)>>>0,a=i,i=u}o[0]=o[0]+i>>>0,o[1]=o[1]+a>>>0,o[2]=o[2]+c>>>0,o[3]=o[3]+l>>>0,o[4]=o[4]+d>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]}},532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(234)),o=s(r(878));function s(e){return e&&e.__esModule?e:{default:e}}let i,u,a=0,c=0;t.default=function(e,t,r){let s=t&&r||0;const l=t||[];let d=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:u;if(null==d||null==h){const t=e.random||(e.rng||n.default)();null==d&&(d=i=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=u=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:c+1;const m=f-a+(p-c)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||f>a)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=p,u=h,f+=122192928e5;const v=(1e4*(268435455&f)+p)%4294967296;l[s++]=v>>>24&255,l[s++]=v>>>16&255,l[s++]=v>>>8&255,l[s++]=255&v;const _=f/4294967296*1e4&268435455;l[s++]=_>>>8&255,l[s++]=255&_,l[s++]=_>>>24&15|16,l[s++]=_>>>16&255,l[s++]=h>>>8|128,l[s++]=255&h;for(let e=0;e<6;++e)l[s+e]=d[e];return t||(0,o.default)(l)}},829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(413)),o=s(r(199));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.default)("v3",48,o.default);t.default=i},413:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){function n(e,n,s,i){const u=s&&i||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=function(e){const t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const a=r(n.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,s)for(let e=0;e<16;++e)s[u+e]=a[e];return s||(0,o.default)(a)}try{n.name=e}catch(e){}return n.DNS=s,n.URL=i,n},t.URL=t.DNS=void 0;var n,o=(n=r(878))&&n.__esModule?n:{default:n};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=i},608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(234)),o=s(r(878));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);const s=(e=e||{}).random||(e.rng||n.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){const e=r||0;for(let r=0;r<16;++r)t[e+r]=s[r];return t}return(0,o.default)(s)}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(413)),o=s(r(818));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.default)("v5",80,o.default);t.default=i},322:e=>{e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],o=e[2],s=e[3];n=((n+=((o=((o+=((s=((s+=((r=((r+=(n&o|~n&s)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+t[1]-389564586|0)<<12|s>>>20)+r|0)&r|~s&n)+t[2]+606105819|0)<<17|o>>>15)+s|0)&s|~o&r)+t[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n&o|~n&s)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+t[5]+1200080426|0)<<12|s>>>20)+r|0)&r|~s&n)+t[6]-1473231341|0)<<17|o>>>15)+s|0)&s|~o&r)+t[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n&o|~n&s)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+t[9]-1958414417|0)<<12|s>>>20)+r|0)&r|~s&n)+t[10]-42063|0)<<17|o>>>15)+s|0)&s|~o&r)+t[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n&o|~n&s)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+t[13]-40341101|0)<<12|s>>>20)+r|0)&r|~s&n)+t[14]-1502002290|0)<<17|o>>>15)+s|0)&s|~o&r)+t[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n&s|o&~s)+t[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+t[6]-1069501632|0)<<9|s>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|o>>>18)+s|0)&r|s&~r)+t[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n&s|o&~s)+t[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+t[10]+38016083|0)<<9|s>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|o>>>18)+s|0)&r|s&~r)+t[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n&s|o&~s)+t[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+t[14]-1019803690|0)<<9|s>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|o>>>18)+s|0)&r|s&~r)+t[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n&s|o&~s)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+t[2]-51403784|0)<<9|s>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|o>>>18)+s|0)&r|s&~r)+t[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n^o^s)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+t[8]-2022574463|0)<<11|s>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|o>>>16)+s|0)^s^r)+t[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n^o^s)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+t[4]+1272893353|0)<<11|s>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|o>>>16)+s|0)^s^r)+t[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n^o^s)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+t[0]-358537222|0)<<11|s>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|o>>>16)+s|0)^s^r)+t[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((s=((s+=((r=((r+=(n^o^s)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+t[12]-421815835|0)<<11|s>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|o>>>16)+s|0)^s^r)+t[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((s=((s+=(n^((r=((r+=(o^(n|~s))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+t[7]+1126891415|0)<<10|s>>>22)+r|0)^((o=((o+=(r^(s|~n))+t[14]-1416354905|0)<<15|o>>>17)+s|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((s=((s+=(n^((r=((r+=(o^(n|~s))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+t[3]-1894986606|0)<<10|s>>>22)+r|0)^((o=((o+=(r^(s|~n))+t[10]-1051523|0)<<15|o>>>17)+s|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((s=((s+=(n^((r=((r+=(o^(n|~s))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+t[15]-30611744|0)<<10|s>>>22)+r|0)^((o=((o+=(r^(s|~n))+t[6]-1560198380|0)<<15|o>>>17)+s|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((s=((s+=(n^((r=((r+=(o^(n|~s))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+t[11]-1120210379|0)<<10|s>>>22)+r|0)^((o=((o+=(r^(s|~n))+t[2]+718787259|0)<<15|o>>>17)+s|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+o|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=o+e[2]|0,e[3]=s+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function s(e){var t,o,s,i,u,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,n(e.substring(t-64,t)));for(o=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(r(l,s),t=0;t<16;t+=1)s[t]=0;return i=(i=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(i[2],16),a=parseInt(i[1],16)||0,s[14]=u,s[15]=a,r(l,s),l}function i(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=i(e[t]);return e.join("")}function a(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function l(){this.reset()}return u(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,r){var n,o,s,i,u=this.byteLength,a=e(t,u),c=u;return undefined!==r&&(c=e(r,u)),a>c?new ArrayBuffer(0):(n=c-a,o=new ArrayBuffer(n),s=new Uint8Array(o),i=new Uint8Array(this,a,n),s.set(i),o)}}(),l.prototype.append=function(e){return this.appendBinary(a(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,o=this._buff.length;for(t=64;t<=o;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,r,n=this._buff,o=n.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)s[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(s,o),r=u(this._hash),e&&(r=c(r)),this.reset(),r},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var n,o,s,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(r(this._hash,e),i=0;i<16;i+=1)e[i]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),s=parseInt(n[1],16)||0,e[14]=o,e[15]=s,r(this._hash,e)},l.hash=function(e,t){return l.hashBinary(a(e),t)},l.hashBinary=function(e,t){var r=u(s(e));return t?c(r):r},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,n,s,i,u,a=(n=this._buff.buffer,s=e,i=!0,(u=new Uint8Array(n.byteLength+s.byteLength)).set(new Uint8Array(n)),u.set(new Uint8Array(s),n.byteLength),i?u:u.buffer),c=a.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)r(this._hash,o(a.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(a.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,o=n.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)s[t>>2]|=n[t]<<(t%4<<3);return this._finish(s,o),r=u(this._hash),e&&(r=c(r)),this.reset(),r},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,n=e.length,o=new ArrayBuffer(n),s=new Uint8Array(o);for(r=0;r<n;r+=1)s[r]=e.charCodeAt(r);return t?s:o}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var n=u(function(e){var t,n,s,i,u,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,o(e.subarray(t-64,t)));for(n=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(r(l,s),t=0;t<16;t+=1)s[t]=0;return i=(i=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(i[2],16),a=parseInt(i[1],16)||0,s[14]=u,s[15]=a,r(l,s),l}(new Uint8Array(e)));return t?c(n):n},l}()},34:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AccountType:()=>$n,ClaimedAccount:()=>Vn,DiscoveredAccount:()=>Wn,DiscoveredAccountAction:()=>Bn,ManualAccount:()=>Qn,RejectedAccount:()=>Hn,Search:()=>lo,SearchDefinition:()=>co,SearchState:()=>eo,ThirdPartyAccount:()=>Kn,UnregisteredAccount:()=>Yn,accounts:()=>Jn,allSites:()=>w,clearDb:()=>yo,filterSitesByTags:()=>y,findAccount:()=>ro,getDb:()=>wo,searchDefinitions:()=>uo,searchResults:()=>Zn,searches:()=>ao,setupReplication:()=>ko,supportedSites:()=>h,tags:()=>g,teardownReplication:()=>Mo,unsupportedSites:()=>f,version:()=>xn});const n=JSON.parse('{"2Dimensions":{"errorType":"status_code","url":"https://2Dimensions.com/a/{}","urlMain":"https://2Dimensions.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"3dnews":{"errorMsg":"Пользователь не зарегистрирован и не имеет профиля для просмотра.","errorType":"message","url":"http://forum.3dnews.ru/member.php?username={}","urlMain":"http://forum.3dnews.ru/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"7Cups":{"errorType":"status_code","url":"https://www.7cups.com/@{}","urlMain":"https://www.7cups.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"9GAG":{"errorType":"status_code","url":"https://www.9gag.com/u/{}","urlMain":"https://www.9gag.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"About.me":{"errorType":"status_code","url":"https://about.me/{}","urlMain":"https://about.me/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Academia.edu":{"errorType":"status_code","regexCheck":"^[^.]*$","url":"https://independent.academia.edu/{}","urlMain":"https://www.academia.edu/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Alik.cz":{"errorType":"status_code","url":"https://www.alik.cz/u/{}","urlMain":"https://www.alik.cz/","username_claimed":"julian","username_unclaimed":"noonewouldeverusethis"},"AllTrails":{"errorMsg":"User could not be found.","errorType":"message","url":"https://www.alltrails.com/members/{}","urlMain":"https://www.alltrails.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Anobii":{"errorType":"response_url","url":"https://www.anobii.com/{}/profile","urlMain":"https://www.anobii.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Apple Discussions":{"errorMsg":"The page you tried was not found. You may have used an outdated link or may have typed the address (URL) incorrectly.","errorType":"message","url":"https://discussions.apple.com/profile/{}","urlMain":"https://discussions.apple.com","username_claimed":"jason","username_unclaimed":"noonewouldeverusethis"},"Archive.org":{"errorMsg":"cannot find account","errorType":"message","url":"https://archive.org/details/@{}","urlMain":"https://archive.org","username_claimed":"blue","username_unclaimed":"noonewould"},"Asciinema":{"errorType":"status_code","url":"https://asciinema.org/~{}","urlMain":"https://asciinema.org","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"Ask Fedora":{"errorType":"status_code","url":"https://ask.fedoraproject.org/u/{}","urlMain":"https://ask.fedoraproject.org/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"AskFM":{"errorMsg":"Well, apparently not anymore.","errorType":"message","regexCheck":"^[a-zA-Z0-9_]{3,40}$","url":"https://ask.fm/{}","urlMain":"https://ask.fm/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Atom Discussions":{"errorMsg":"Oops! That page doesn’t exist or is private.","errorType":"message","url":"https://discuss.atom.io/u/{}/summary","urlMain":"https://discuss.atom.io","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Audiojungle":{"errorType":"status_code","regexCheck":"^[a-zA-Z0-9_]+$","url":"https://audiojungle.net/user/{}","urlMain":"https://audiojungle.net/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Avizo":{"errorType":"response_url","errorUrl":"https://www.avizo.cz/","url":"https://www.avizo.cz/{}/","urlMain":"https://www.avizo.cz/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"BLIP.fm":{"errorType":"status_code","regexCheck":"^[a-zA-Z0-9_]{1,30}$","url":"https://blip.fm/{}","urlMain":"https://blip.fm/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"BOOTH":{"errorType":"response_url","errorUrl":"https://booth.pm/","url":"https://{}.booth.pm/","urlMain":"https://booth.pm/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Bandcamp":{"errorType":"status_code","url":"https://www.bandcamp.com/{}","urlMain":"https://www.bandcamp.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Bazar.cz":{"errorType":"response_url","errorUrl":"https://www.bazar.cz/error404.aspx","url":"https://www.bazar.cz/{}/","urlMain":"https://www.bazar.cz/","username_claimed":"pianina","username_unclaimed":"noonewouldeverusethis"},"Behance":{"errorType":"status_code","url":"https://www.behance.net/{}","urlMain":"https://www.behance.net/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"BinarySearch":{"errorMsg":"{}","errorType":"message","regexCheck":"^[a-zA-Z0-9-_]{1,15}$","url":"https://binarysearch.io/@/{}","urlMain":"https://binarysearch.io/","urlProbe":"https://binarysearch.io/api/users/{}/profile","username_claimed":"Eyes_Wide_Shut","username_unclaimed":"hihowareyou101"},"BitBucket":{"errorType":"status_code","regexCheck":"^[a-zA-Z0-9-_]{1,30}$","url":"https://bitbucket.org/{}/","urlMain":"https://bitbucket.org/","username_claimed":"white","username_unclaimed":"noonewouldeverusethis7"},"BitCoinForum":{"errorMsg":"The user whose profile you are trying to view does not exist.","errorType":"message","url":"https://bitcoinforum.com/profile/{}","urlMain":"https://bitcoinforum.com","username_claimed":"bitcoinforum.com","username_unclaimed":"noonewouldeverusethis7"},"Blogger":{"errorType":"status_code","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://{}.blogspot.com","urlMain":"https://www.blogger.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"BodyBuilding":{"errorType":"response_url","errorUrl":"https://bodyspace.bodybuilding.com/","url":"https://bodyspace.bodybuilding.com/{}","urlMain":"https://bodyspace.bodybuilding.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Bookcrossing":{"errorType":"status_code","url":"https://www.bookcrossing.com/mybookshelf/{}/","urlMain":"https://www.bookcrossing.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"BuyMeACoffee":{"errorType":"status_code","url":"https://buymeacoff.ee/{}","urlMain":"https://www.buymeacoffee.com/","urlProbe":"https://www.buymeacoffee.com/{}","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"BuzzFeed":{"errorType":"status_code","url":"https://buzzfeed.com/{}","urlMain":"https://buzzfeed.com/","username_claimed":"blue","username_unclaimed":"xgtrq"},"CNET":{"errorType":"status_code","url":"https://www.cnet.com/profiles/{}/","urlMain":"https://www.cnet.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"CapFriendly":{"errorMsg":"<div class=\\"err show p5\\">No results found</div>","errorType":"message","regexCheck":"^[a-zA-z][a-zA-Z0-9_]{2,79}$","url":"https://www.capfriendly.com/users/{}","urlMain":"https://www.capfriendly.com/","username_claimed":"thisactuallyexists","username_unclaimed":"noonewouldeverusethis7"},"Carbonmade":{"errorType":"response_url","errorUrl":"https://carbonmade.com/fourohfour?domain={}.carbonmade.com","url":"https://{}.carbonmade.com","urlMain":"https://carbonmade.com/","username_claimed":"jenny","username_unclaimed":"noonewouldeverusethis7"},"Career.habr":{"errorMsg":"<h1>Ошибка 404</h1>","errorType":"message","url":"https://career.habr.com/{}","urlMain":"https://career.habr.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Cent":{"errorMsg":"<title>Cent</title>","errorType":"message","url":"https://beta.cent.co/@{}","urlMain":"https://cent.co/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Championat":{"errorType":"status_code","url":"https://www.championat.com/user/{}","urlMain":"https://www.championat.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Chatujme.cz":{"errorMsg":"Neexistujicí profil","errorType":"message","regexCheck":"^[a-zA-Z][a-zA-Z1-9_-]*$","url":"https://profil.chatujme.cz/{}","urlMain":"https://chatujme.cz/","username_claimed":"david","username_unclaimed":"noonewouldeverusethis"},"Chess":{"errorMsg":"Missing page... somebody made a wrong move.","errorType":"message","url":"https://www.chess.com/member/{}","urlMain":"https://www.chess.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Cloob":{"errorType":"status_code","url":"https://www.cloob.com/name/{}","urlMain":"https://www.cloob.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"CloudflareCommunity":{"errorType":"status_code","url":"https://community.cloudflare.com/u/{}","urlMain":"https://community.cloudflare.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Clozemaster":{"errorMsg":"Oh no! Player not found.","errorType":"message","url":"https://www.clozemaster.com/players/{}","urlMain":"https://www.clozemaster.com","username_claimed":"green","username_unclaimed":"noonewouldeverusethis7"},"Codecademy":{"errorType":"status_code","url":"https://www.codecademy.com/profiles/{}","urlMain":"https://www.codecademy.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Codechef":{"errorType":"response_url","errorUrl":"https://www.codechef.com/","url":"https://www.codechef.com/users/{}","urlMain":"https://www.codechef.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Codepen":{"errorType":"status_code","url":"https://codepen.io/{}","urlMain":"https://codepen.io/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Codewars":{"errorType":"status_code","url":"https://www.codewars.com/users/{}","urlMain":"https://www.codewars.com","username_claimed":"example","username_unclaimed":"noonewouldeverusethis7"},"ColourLovers":{"errorType":"status_code","url":"https://www.colourlovers.com/lover/{}","urlMain":"https://www.colourlovers.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Contently":{"errorMsg":"We can\'t find that page!","errorType":"message","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://{}.contently.com/","urlMain":"https://contently.com/","username_claimed":"jordanteicher","username_unclaimed":"noonewouldeverusethis7"},"Coroflot":{"errorType":"status_code","url":"https://www.coroflot.com/{}","urlMain":"https://coroflot.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Countable":{"errorType":"status_code","url":"https://www.countable.us/{}","urlMain":"https://www.countable.us/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Cracked":{"errorType":"response_url","errorUrl":"https://www.cracked.com/","url":"https://www.cracked.com/members/{}/","urlMain":"https://www.cracked.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Crevado":{"errorType":"status_code","url":"https://{}.crevado.com","urlMain":"https://crevado.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"DEV Community":{"errorType":"status_code","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://dev.to/{}","urlMain":"https://dev.to/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"DailyMotion":{"errorType":"status_code","url":"https://www.dailymotion.com/{}","urlMain":"https://www.dailymotion.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Designspiration":{"errorType":"status_code","url":"https://www.designspiration.net/{}/","urlMain":"https://www.designspiration.net/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"DeviantART":{"errorType":"status_code","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://{}.deviantart.com","urlMain":"https://deviantart.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Discogs":{"errorType":"status_code","url":"https://www.discogs.com/user/{}","urlMain":"https://www.discogs.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Discuss.Elastic.co":{"errorType":"status_code","url":"https://discuss.elastic.co/u/{}","urlMain":"https://discuss.elastic.co/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Disqus":{"errorType":"status_code","url":"https://disqus.com/{}","urlMain":"https://disqus.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Docker Hub":{"errorType":"status_code","url":"https://hub.docker.com/u/{}/","urlMain":"https://hub.docker.com/","urlProbe":"https://hub.docker.com/v2/users/{}/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Dribbble":{"errorMsg":"Whoops, that page is gone.","errorType":"message","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://dribbble.com/{}","urlMain":"https://dribbble.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Duolingo":{"errorMsg":"{\\"users\\":[]}","errorType":"message","url":"https://www.duolingo.com/profile/{}","urlMain":"https://duolingo.com/","urlProbe":"https://www.duolingo.com/2017-06-30/users?username={}","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Ello":{"errorMsg":"We couldn\'t find the page you\'re looking for","errorType":"message","url":"https://ello.co/{}","urlMain":"https://ello.co/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Etsy":{"errorType":"status_code","url":"https://www.etsy.com/shop/{}","urlMain":"https://www.etsy.com/","username_claimed":"JennyKrafts","username_unclaimed":"noonewouldeverusethis7"},"Euw":{"errorMsg":"This summoner is not registered at OP.GG. Please check spelling.","errorType":"message","url":"https://euw.op.gg/summoner/userName={}","urlMain":"https://euw.op.gg/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"EyeEm":{"errorType":"status_code","url":"https://www.eyeem.com/u/{}","urlMain":"https://www.eyeem.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"F3.cool":{"errorType":"status_code","url":"https://f3.cool/{}/","urlMain":"https://f3.cool/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Facebook":{"errorType":"status_code","regexCheck":"^[a-zA-Z0-9\\\\.]{3,49}(?<!\\\\.com|\\\\.org|\\\\.net)$","url":"https://www.facebook.com/{}","urlMain":"https://www.facebook.com/","urlProbe":"https://www.facebook.com/{}/videos/","username_claimed":"hackerman","username_unclaimed":"noonewouldeverusethis7"},"Facenama":{"errorType":"response_url","errorUrl":"https://facenama.com/404.html","regexCheck":"^[-a-zA-Z0-9_]+$","url":"https://facenama.com/{}","urlMain":"https://facenama.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis77"},"Fandom":{"errorType":"status_code","url":"https://www.fandom.com/u/{}","urlMain":"https://www.fandom.com/","username_claimed":"Jungypoo","username_unclaimed":"noonewouldeverusethis7"},"Flickr":{"errorType":"status_code","url":"https://www.flickr.com/people/{}","urlMain":"https://www.flickr.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Flightradar24":{"errorType":"status_code","regexCheck":"^[a-zA-Z0-9_]{3,20}$","url":"https://my.flightradar24.com/{}","urlMain":"https://www.flightradar24.com/","username_claimed":"jebbrooks","username_unclaimed":"xgtrq"},"Flipboard":{"errorType":"status_code","regexCheck":"^([a-zA-Z0-9_]){1,15}$","url":"https://flipboard.com/@{}","urlMain":"https://flipboard.com/","username_claimed":"blue","username_unclaimed":"noonewould"},"Football":{"errorMsg":"Пользователь с таким именем не найден","errorType":"message","url":"https://www.rusfootball.info/user/{}/","urlMain":"https://www.rusfootball.info/","username_claimed":"solo87","username_unclaimed":"noonewouldeverusethis7"},"FortniteTracker":{"errorType":"status_code","url":"https://fortnitetracker.com/profile/all/{}","urlMain":"https://fortnitetracker.com/challenges","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Freelance.habr":{"errorMsg":"<div class=\\"icon_user_locked\\"></div>","errorType":"message","regexCheck":"^((?!\\\\.).)*$","url":"https://freelance.habr.com/freelancers/{}","urlMain":"https://freelance.habr.com/","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis7"},"Freelancer.com":{"errorMsg":"\\"users\\":{}","errorType":"message","url":"https://www.freelancer.com/api/users/0.1/users?usernames%5B%5D={}&compact=true","urlMain":"https://www.freelancer.com/","username_claimed":"red0xff","username_unclaimed":"noonewouldeverusethis"},"Freesound":{"errorType":"status_code","url":"https://freesound.org/people/{}/","urlMain":"https://freesound.org/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"GDProfiles":{"errorType":"status_code","url":"https://gdprofiles.com/{}","urlMain":"https://gdprofiles.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Gamespot":{"errorType":"status_code","url":"https://www.gamespot.com/profile/{}/","urlMain":"https://www.gamespot.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"GetMyUni":{"errorType":"status_code","url":"https://www.getmyuni.com/user/{}","urlMain":"https://getmyuni.com/","username_claimed":"Upneet.Grover17","username_unclaimed":"noonewouldeverusethis7"},"Giphy":{"errorType":"status_code","url":"https://giphy.com/{}","urlMain":"https://giphy.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"GitHub":{"errorType":"status_code","regexCheck":"^[a-zA-Z0-9](?:[a-zA-Z0-9]|-(?=[a-zA-Z0-9])){0,38}$","url":"https://www.github.com/{}","urlMain":"https://www.github.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"GitHub Support Community":{"errorMsg":"Oops! That page doesn’t exist or is private.","errorType":"message","url":"https://github.community/u/{}/summary","urlMain":"https://github.community","username_claimed":"jperl","username_unclaimed":"noonewouldusethis298"},"GitLab":{"errorMsg":"[]","errorType":"message","url":"https://gitlab.com/{}","urlMain":"https://gitlab.com/","urlProbe":"https://gitlab.com/api/v4/users?username={}","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Gitee":{"errorType":"status_code","url":"https://gitee.com/{}","urlMain":"https://gitee.com/","username_claimed":"wizzer","username_unclaimed":"noonewouldeverusethis7"},"GoodReads":{"errorType":"status_code","url":"https://www.goodreads.com/{}","urlMain":"https://www.goodreads.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Gravatar":{"errorType":"status_code","regexCheck":"^((?!\\\\.).)*$","url":"http://en.gravatar.com/{}","urlMain":"http://en.gravatar.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Gumroad":{"errorMsg":"Page not found.","errorType":"message","url":"https://www.gumroad.com/{}","urlMain":"https://www.gumroad.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"GunsAndAmmo":{"errorType":"status_code","url":"https://forums.gunsandammo.com/profile/{}","urlMain":"https://gunsandammo.com/","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis7"},"GuruShots":{"errorType":"status_code","url":"https://gurushots.com/{}/photos","urlMain":"https://gurushots.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"HackTheBox":{"errorType":"status_code","url":"https://forum.hackthebox.eu/profile/{}","urlMain":"https://forum.hackthebox.eu/","username_claimed":"angar","username_unclaimed":"noonewouldeverusethis"},"Hackaday":{"errorType":"status_code","url":"https://hackaday.io/{}","urlMain":"https://hackaday.io/","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis"},"HackerNews":{"errorMsg":"No such user.","errorType":"message","url":"https://news.ycombinator.com/user?id={}","urlMain":"https://news.ycombinator.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"HackerOne":{"errorMsg":"Page not found","errorType":"message","url":"https://hackerone.com/{}","urlMain":"https://hackerone.com/","username_claimed":"stok","username_unclaimed":"noonewouldeverusethis7"},"HackerRank":{"errorMsg":"Something went wrong","errorType":"message","url":"https://hackerrank.com/{}","urlMain":"https://hackerrank.com/","username_claimed":"satznova","username_unclaimed":"noonewouldeverusethis7"},"House-Mixes.com":{"errorMsg":"Profile Not Found","errorType":"message","regexCheck":"^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*$","url":"https://www.house-mixes.com/profile/{}","urlMain":"https://www.house-mixes.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Houzz":{"errorMsg":"The page you requested was not found.","errorType":"message","url":"https://houzz.com/user/{}","urlMain":"https://houzz.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"HubPages":{"errorType":"status_code","url":"https://hubpages.com/@{}","urlMain":"https://hubpages.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Hubski":{"errorMsg":"No such user","errorType":"message","url":"https://hubski.com/user/{}","urlMain":"https://hubski.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"ICQ":{"errorMsg":"Profile not found","errorType":"message","url":"https://icq.im/{}","urlMain":"https://icq.com/","username_claimed":"Micheal","username_unclaimed":"noonewouldeverusethis7"},"IFTTT":{"errorMsg":"The requested page or file does not exist","errorType":"message","regexCheck":"^[A-Za-z0-9]{3,35}$","url":"https://www.ifttt.com/p/{}","urlMain":"https://www.ifttt.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"ImgUp.cz":{"errorType":"status_code","url":"https://imgup.cz/{}","urlMain":"https://imgup.cz/","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis"},"Imgur":{"errorType":"status_code","url":"https://imgur.com/user/{}","urlMain":"https://imgur.com/","urlProbe":"https://api.imgur.com/account/v1/accounts/{}?client_id=546c25a59c58ad7","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Instructables":{"errorType":"status_code","url":"https://www.instructables.com/member/{}","urlMain":"https://www.instructables.com/","urlProbe":"https://www.instructables.com/json-api/showAuthorExists?screenName={}","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Issuu":{"errorType":"status_code","url":"https://issuu.com/{}","urlMain":"https://issuu.com/","username_claimed":"jenny","username_unclaimed":"noonewouldeverusethis7"},"Itch.io":{"errorType":"status_code","url":"https://{}.itch.io/","urlMain":"https://itch.io/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Jimdo":{"errorType":"status_code","noPeriod":"True","url":"https://{}.jimdosite.com","urlMain":"https://jimdosite.com/","username_claimed":"jenny","username_unclaimed":"noonewouldeverusethis7"},"Kaggle":{"errorType":"status_code","url":"https://www.kaggle.com/{}","urlMain":"https://www.kaggle.com/","username_claimed":"dansbecker","username_unclaimed":"noonewouldeverusethis7"},"Kali community":{"errorMsg":"This user has not registered and therefore does not have a profile to view.","errorType":"message","url":"https://forums.kali.org/member.php?username={}","urlMain":"https://forums.kali.org/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Keybase":{"errorType":"status_code","url":"https://keybase.io/{}","urlMain":"https://keybase.io/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Kik":{"errorMsg":"The page you requested was not found","errorType":"message","url":"https://kik.me/{}","urlMain":"http://kik.me/","urlProbe":"https://ws2.kik.com/user/{}","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Kongregate":{"errorMsg":"Sorry, no account with that name was found.","errorType":"message","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://www.kongregate.com/accounts/{}","urlMain":"https://www.kongregate.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"LOR":{"errorType":"status_code","url":"https://www.linux.org.ru/people/{}/profile","urlMain":"https://linux.org.ru/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"Launchpad":{"errorType":"status_code","url":"https://launchpad.net/~{}","urlMain":"https://launchpad.net/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"LeetCode":{"errorType":"status_code","url":"https://leetcode.com/{}","urlMain":"https://leetcode.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Letterboxd":{"errorMsg":"Sorry, we can’t find the page you’ve requested.","errorType":"message","url":"https://letterboxd.com/{}","urlMain":"https://letterboxd.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Lichess":{"errorMsg":"Page not found!","errorType":"message","url":"https://lichess.org/@/{}","urlMain":"https://lichess.org","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"LiveJournal":{"errorType":"status_code","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://{}.livejournal.com","urlMain":"https://www.livejournal.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"LiveLeak":{"errorMsg":"channel not found","errorType":"message","url":"https://www.liveleak.com/c/{}","urlMain":"https://www.liveleak.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Lobsters":{"errorType":"status_code","regexCheck":"[A-Za-z0-9][A-Za-z0-9_-]{0,24}","url":"https://lobste.rs/u/{}","urlMain":"https://lobste.rs/","username_claimed":"jcs","username_unclaimed":"noonewouldeverusethis7"},"Lolchess":{"errorMsg":"No search results","errorType":"message","url":"https://lolchess.gg/profile/na/{}","urlMain":"https://lolchess.gg/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Medium":{"errorMsg":"<body","errorType":"message","url":"https://medium.com/@{}","urlMain":"https://medium.com/","urlProbe":"https://medium.com/feed/@{}","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Memrise":{"errorType":"status_code","url":"https://www.memrise.com/user/{}/","urlMain":"https://www.memrise.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"MixCloud":{"errorType":"status_code","url":"https://www.mixcloud.com/{}/","urlMain":"https://www.mixcloud.com/","urlProbe":"https://api.mixcloud.com/{}/","username_claimed":"jenny","username_unclaimed":"noonewouldeverusethis7"},"Munzee":{"errorType":"status_code","url":"https://www.munzee.com/m/{}","urlMain":"https://www.munzee.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"MyAnimeList":{"errorType":"status_code","url":"https://myanimelist.net/profile/{}","urlMain":"https://myanimelist.net/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"MyMiniFactory":{"errorType":"status_code","url":"https://www.myminifactory.com/users/{}","urlMain":"https://www.myminifactory.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Myspace":{"errorType":"status_code","url":"https://myspace.com/{}","urlMain":"https://myspace.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"NICommunityForum":{"errorMsg":"The specified member cannot be found","errorType":"message","url":"https://www.native-instruments.com/forum/members?username={}","urlMain":"https://www.native-instruments.com/forum/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"NameMC (Minecraft.net skins)":{"errorMsg":"Profiles: 0 results","errorType":"message","url":"https://namemc.com/profile/{}","urlMain":"https://namemc.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"NationStates Nation":{"errorMsg":"Was this your nation? It may have ceased to exist due to inactivity, but can rise again!","errorType":"message","url":"https://nationstates.net/nation={}","urlMain":"https://nationstates.net","username_claimed":"the_holy_principality_of_saint_mark","username_unclaimed":"noonewould"},"NationStates Region":{"errorMsg":"does not exist.","errorType":"message","url":"https://nationstates.net/region={}","urlMain":"https://nationstates.net","username_claimed":"the_west_pacific","username_unclaimed":"noonewould"},"Naver":{"errorType":"status_code","url":"https://blog.naver.com/{}","urlMain":"https://naver.com","username_claimed":"blue","username_unclaimed":"noonewould"},"Newgrounds":{"errorType":"status_code","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://{}.newgrounds.com","urlMain":"https://newgrounds.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Nightbot":{"errorType":"status_code","url":"https://nightbot.tv/t/{}/commands","urlMain":"https://nightbot.tv/","urlProbe":"https://api.nightbot.tv/1/channels/t/{}","username_claimed":"green","username_unclaimed":"noonewouldeverusethis"},"NotABug.org":{"errorType":"status_code","url":"https://notabug.org/{}","urlMain":"https://notabug.org/","urlProbe":"https://notabug.org/{}/followers","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"OK":{"errorType":"status_code","regexCheck":"^[a-zA-Z][a-zA-Z0-9_.-]*$","url":"https://ok.ru/{}","urlMain":"https://ok.ru/","username_claimed":"ok","username_unclaimed":"noonewouldeverusethis7"},"OpenStreetMap":{"errorType":"status_code","url":"https://www.openstreetmap.org/user/{}","urlMain":"https://www.openstreetmap.org/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Opensource":{"errorType":"status_code","url":"https://opensource.com/users/{}","urlMain":"https://opensource.com/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"Oracle Community":{"errorType":"status_code","url":"https://community.oracle.com/people/{}","urlMain":"https://community.oracle.com","username_claimed":"dev","username_unclaimed":"noonewouldeverusethis7"},"Otzovik":{"errorType":"status_code","url":"https://otzovik.com/profile/{}","urlMain":"https://otzovik.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"OurDJTalk":{"errorMsg":"The specified member cannot be found","errorType":"message","url":"https://ourdjtalk.com/members?username={}","urlMain":"https://ourdjtalk.com/","username_claimed":"steve","username_unclaimed":"noonewouldeverusethis"},"PCGamer":{"errorMsg":"The specified member cannot be found. Please enter a member\'s entire name.","errorType":"message","url":"https://forums.pcgamer.com/members/?username={}","urlMain":"https://pcgamer.com","username_claimed":"admin","username_unclaimed":"noonewouldeverusethis7"},"PCPartPicker":{"errorType":"status_code","url":"https://pcpartpicker.com/user/{}","urlMain":"https://pcpartpicker.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"PSNProfiles.com":{"errorType":"response_url","errorUrl":"https://psnprofiles.com/?psnId={}","url":"https://psnprofiles.com/{}","urlMain":"https://psnprofiles.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Packagist":{"errorType":"response_url","errorUrl":"https://packagist.org/search/?q={}&reason=vendor_not_found","url":"https://packagist.org/packages/{}/","urlMain":"https://packagist.org/","username_claimed":"psr","username_unclaimed":"noonewouldeverusethis7"},"Pastebin":{"errorMsg":"Not Found (#404)","errorType":"message","url":"https://pastebin.com/u/{}","urlMain":"https://pastebin.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Patreon":{"errorType":"status_code","url":"https://www.patreon.com/{}","urlMain":"https://www.patreon.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Periscope":{"errorType":"status_code","url":"https://www.periscope.tv/{}/","urlMain":"https://www.periscope.tv/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Pinkbike":{"errorType":"status_code","url":"https://www.pinkbike.com/u/{}/","urlMain":"https://www.pinkbike.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Pinterest":{"errorType":"status_code","url":"https://www.pinterest.com/{}/","urlMain":"https://www.pinterest.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"PlayStore":{"errorType":"status_code","url":"https://play.google.com/store/apps/developer?id={}","urlMain":"https://play.google.com/store","username_claimed":"Facebook","username_unclaimed":"noonewouldeverusethis7"},"Plug.DJ":{"errorType":"status_code","url":"https://plug.dj/@/{}","urlMain":"https://plug.dj/","username_claimed":"plug-dj-rock","username_unclaimed":"noonewouldeverusethis7"},"Pokemon Showdown":{"errorType":"status_code","url":"https://pokemonshowdown.com/users/{}","urlMain":"https://pokemonshowdown.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Polarsteps":{"errorType":"status_code","url":"https://polarsteps.com/{}","urlMain":"https://polarsteps.com/","urlProbe":"https://api.polarsteps.com/users/byusername/{}","username_claimed":"james","username_unclaimed":"noonewouldeverusethis7"},"Polygon":{"errorType":"status_code","url":"https://www.polygon.com/users/{}","urlMain":"https://www.polygon.com/","username_claimed":"swiftstickler","username_unclaimed":"noonewouldeverusethis7"},"ProductHunt":{"errorMsg":"Page Not Found","errorType":"message","url":"https://www.producthunt.com/@{}","urlMain":"https://www.producthunt.com/","username_claimed":"jenny","username_unclaimed":"noonewouldeverusethis7"},"PromoDJ":{"errorType":"status_code","url":"http://promodj.com/{}","urlMain":"http://promodj.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"PyPi":{"errorType":"status_code","url":"https://pypi.org/user/{}","urlMain":"https://pypi.org","username_claimed":"Blue","username_unclaimed":"noonewouldeverusethis"},"Quizlet":{"errorMsg":"Page Unavailable","errorType":"message","url":"https://quizlet.com/{}","urlMain":"https://quizlet.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Quora":{"errorMsg":"Page Not Found","errorType":"message","url":"https://www.quora.com/profile/{}","urlMain":"https://www.quora.com/","username_claimed":"Matt-Riggsby","username_unclaimed":"noonewouldeverusethis7"},"Raidforums":{"errorType":"status_code","url":"https://raidforums.com/User-{}","urlMain":"https://raidforums.com/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"Rajce.net":{"errorType":"status_code","url":"https://{}.rajce.idnes.cz/","urlMain":"https://www.rajce.idnes.cz/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Rate Your Music":{"errorType":"status_code","url":"https://rateyourmusic.com/~{}","urlMain":"https://rateyourmusic.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Redbubble":{"errorType":"status_code","url":"https://www.redbubble.com/people/{}","urlMain":"https://www.redbubble.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis77777"},"Reddit":{"errorType":"status_code","url":"https://www.reddit.com/user/{}","urlMain":"https://www.reddit.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Repl.it":{"errorType":"status_code","url":"https://repl.it/@{}","urlMain":"https://repl.it/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"ResearchGate":{"errorType":"response_url","errorUrl":"https://www.researchgate.net/directory/profiles","regexCheck":"\\\\w+_\\\\w+","url":"https://www.researchgate.net/profile/{}","urlMain":"https://www.researchgate.net/","username_claimed":"John_Smith","username_unclaimed":"noonewould_everusethis7"},"ReverbNation":{"errorMsg":"Sorry, we couldn\'t find that page","errorType":"message","url":"https://www.reverbnation.com/{}","urlMain":"https://www.reverbnation.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Roblox":{"errorMsg":"Page cannot be found or no longer exists","errorType":"message","url":"https://www.roblox.com/user.aspx?username={}","urlMain":"https://www.roblox.com/","username_claimed":"bluewolfekiller","username_unclaimed":"noonewouldeverusethis7"},"RubyGems":{"errorType":"status_code","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]{1,40}","url":"https://rubygems.org/profiles/{}","urlMain":"https://rubygems.org/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Sbazar.cz":{"errorType":"status_code","url":"https://www.sbazar.cz/{}","urlMain":"https://www.sbazar.cz/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Scratch":{"errorType":"status_code","url":"https://scratch.mit.edu/users/{}","urlMain":"https://scratch.mit.edu/","username_claimed":"griffpatch","username_unclaimed":"noonewould"},"Scribd":{"errorMsg":"Page not found","errorType":"message","url":"https://www.scribd.com/{}","urlMain":"https://www.scribd.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"ShitpostBot5000":{"errorType":"status_code","url":"https://www.shitpostbot.com/user/{}","urlMain":"https://www.shitpostbot.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Signal":{"errorMsg":"Oops! That page doesn’t exist or is private.","errorType":"message","url":"https://community.signalusers.org/u/{}","urlMain":"https://community.signalusers.org","username_claimed":"jlund","username_unclaimed":"noonewouldeverusethis7"},"Slack":{"errorType":"status_code","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://{}.slack.com","urlMain":"https://slack.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Slashdot":{"errorMsg":"user you requested does not exist","errorType":"message","url":"https://slashdot.org/~{}","urlMain":"https://slashdot.org","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"SlideShare":{"errorType":"status_code","url":"https://slideshare.net/{}","urlMain":"https://slideshare.net/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Smashcast":{"errorType":"status_code","url":"https://www.smashcast.tv/api/media/live/{}","urlMain":"https://www.smashcast.tv/","username_claimed":"hello","username_unclaimed":"noonewouldeverusethis7"},"Smule":{"errorType":"status_code","url":"https://www.smule.com/{}","urlMain":"https://www.smule.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"SoundCloud":{"errorType":"status_code","url":"https://soundcloud.com/{}","urlMain":"https://soundcloud.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"SourceForge":{"errorType":"status_code","url":"https://sourceforge.net/u/{}","urlMain":"https://sourceforge.net/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"SoylentNews":{"errorMsg":"The user you requested does not exist, no matter how much you wish this might be the case.","errorType":"message","url":"https://soylentnews.org/~{}","urlMain":"https://soylentnews.org","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis7"},"SparkPeople":{"errorMsg":"We couldn\'t find that user","errorType":"message","url":"https://www.sparkpeople.com/mypage.asp?id={}","urlMain":"https://www.sparkpeople.com","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis7"},"Speedrun.com":{"errorMsg":"not found.","errorType":"message","url":"https://speedrun.com/user/{}","urlMain":"https://speedrun.com/","username_claimed":"3Tau","username_unclaimed":"noonewould"},"Splits.io":{"errorType":"status_code","url":"https://splits.io/users/{}","urlMain":"https://splits.io","username_claimed":"cambosteve","username_unclaimed":"noonewould"},"Sporcle":{"errorType":"status_code","url":"https://www.sporcle.com/user/{}/people","urlMain":"https://www.sporcle.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"SportsRU":{"errorType":"status_code","url":"https://www.sports.ru/profile/{}/","urlMain":"https://www.sports.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Spotify":{"errorType":"status_code","url":"https://open.spotify.com/user/{}","urlMain":"https://open.spotify.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Star Citizen":{"errorType":"status_code","url":"https://robertsspaceindustries.com/citizens/{}","urlMain":"https://robertsspaceindustries.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Steam":{"errorMsg":"The specified profile could not be found","errorType":"message","url":"https://steamcommunity.com/id/{}","urlMain":"https://steamcommunity.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"SteamGroup":{"errorMsg":"No group could be retrieved for the given URL","errorType":"message","url":"https://steamcommunity.com/groups/{}","urlMain":"https://steamcommunity.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Steamid":{"errorMsg":"<div class=\\"alert alert-warning\\">Profile not found</div>","errorType":"message","url":"https://steamid.uk/profile/{}","urlMain":"https://steamid.uk/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Strava":{"errorMsg":"Strava | Run and Cycling Tracking on the Social Network for Athletes","errorType":"message","url":"https://www.strava.com/athletes/{}","urlMain":"https://www.strava.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"SublimeForum":{"errorType":"status_code","url":"https://forum.sublimetext.com/u/{}","urlMain":"https://forum.sublimetext.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"TETR.IO":{"errorMsg":"No such user!","errorType":"message","url":"https://ch.tetr.io/u/{}","urlMain":"https://tetr.io","urlProbe":"https://ch.tetr.io/api/users/{}","username_claimed":"osk","username_unclaimed":"noonewouldeverusethis7"},"Telegram":{"errorMsg":"<meta property=\\"og:description\\" content=\\"\\">","errorType":"message","regexCheck":"^[a-zA-Z0-9_]{5,32}$","url":"https://t.me/{}","urlMain":"https://t.me/","username_claimed":"roopeshvs","username_unclaimed":"noonewouldeverusethis7"},"Tellonym.me":{"errorType":"status_code","url":"https://tellonym.me/{}","urlMain":"https://tellonym.me/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"TikTok":{"errorType":"status_code","url":"https://tiktok.com/@{}","urlMain":"https://tiktok.com/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"Tinder":{"errorMsg":["<title data-react-helmet=\\"true\\">Tinder | Dating, Make Friends &amp; Meet New People</title>","<title data-react-helmet=\\"true\\">Tinder | Match. Chat. Date.</title>"],"errorType":"message","url":"https://www.gotinder.com/@{}","urlMain":"https://tinder.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"TrackmaniaLadder":{"errorMsg":"player unknown or invalid","errorType":"message","url":"http://en.tm-ladder.com/{}_rech.php","urlMain":"http://en.tm-ladder.com/index.php","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"TradingView":{"errorType":"status_code","url":"https://www.tradingview.com/u/{}/","urlMain":"https://www.tradingview.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Trakt":{"errorType":"status_code","regexCheck":"^[^.]*$","url":"https://www.trakt.tv/users/{}","urlMain":"https://www.trakt.tv/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"TrashboxRU":{"errorMsg":"Пользователь не найден","errorType":"message","regexCheck":"^[A-Za-z0-9_-]{3,16}$","url":"https://trashbox.ru/users/{}","urlMain":"https://trashbox.ru/","username_claimed":"blue","username_unclaimed":"never-never-ever"},"Trello":{"errorMsg":"model not found","errorType":"message","url":"https://trello.com/{}","urlMain":"https://trello.com/","urlProbe":"https://trello.com/1/Members/{}","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"TripAdvisor":{"errorMsg":"This page is on vacation…","errorType":"message","url":"https://tripadvisor.com/members/{}","urlMain":"https://tripadvisor.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"TryHackMe":{"errorType":"status_code","url":"https://tryhackme.com/p/{}","urlMain":"https://tryhackme.com/","username_claimed":"ashu","username_unclaimed":"noonewouldeverusethis7"},"Twitch":{"errorType":"status_code","url":"https://www.twitch.tv/{}","urlMain":"https://www.twitch.tv/","urlProbe":"https://m.twitch.tv/{}","username_claimed":"jenny","username_unclaimed":"noonewouldeverusethis7"},"Twitter":{"errorType":"status_code","headers":{"User-Agent":""},"url":"https://mobile.twitter.com/{}","urlMain":"https://mobile.twitter.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Typeracer":{"errorMsg":"Profile Not Found","errorType":"message","url":"https://data.typeracer.com/pit/profile?user={}","urlMain":"https://typeracer.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Ultimate-Guitar":{"errorType":"status_code","url":"https://ultimate-guitar.com/u/{}","urlMain":"https://ultimate-guitar.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Unsplash":{"errorType":"status_code","url":"https://unsplash.com/@{}","urlMain":"https://unsplash.com/","username_claimed":"jenny","username_unclaimed":"noonewouldeverusethis7"},"VK":{"errorType":"response_url","errorUrl":"https://www.quora.com/profile/{}","url":"https://vk.com/{}","urlMain":"https://vk.com/","username_claimed":"smith","username_unclaimed":"blah62831"},"VSCO":{"errorType":"status_code","url":"https://vsco.co/{}","urlMain":"https://vsco.co/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Velomania":{"errorMsg":"Пользователь не зарегистрирован и не имеет профиля для просмотра.","errorType":"message","url":"https://forum.velomania.ru/member.php?username={}","urlMain":"https://forum.velomania.ru/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"Venmo":{"errorType":"status_code","url":"https://venmo.com/{}","urlMain":"https://venmo.com/","username_claimed":"jenny","username_unclaimed":"noonewouldeverusethis7"},"Vero":{"errorType":"status_code","request_head_only":false,"url":"https://vero.co/{}","urlMain":"https://vero.co/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"Vimeo":{"errorType":"status_code","url":"https://vimeo.com/{}","urlMain":"https://vimeo.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Virgool":{"errorMsg":"۴۰۴","errorType":"message","url":"https://virgool.io/@{}","urlMain":"https://virgool.io/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"VirusTotal":{"errorType":"status_code","request_head_only":false,"url":"https://www.virustotal.com/ui/users/{}/trusted_users","urlMain":"https://www.virustotal.com/","urlProbe":"https://www.virustotal.com/ui/users/{}/avatar","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Warrior Forum":{"errorType":"status_code","url":"https://www.warriorforum.com/members/{}.html","urlMain":"https://www.warriorforum.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis77777"},"Wattpad":{"errorType":"status_code","url":"https://www.wattpad.com/user/{}","urlMain":"https://www.wattpad.com/","urlProbe":"https://www.wattpad.com/api/v3/users/{}/","username_claimed":"Dogstho7951","username_unclaimed":"noonewouldeverusethis7"},"We Heart It":{"errorMsg":"Oops! You\'ve landed on a moving target!","errorType":"message","url":"https://weheartit.com/{}","urlMain":"https://weheartit.com/","username_claimed":"ventivogue","username_unclaimed":"noonewouldeverusethis7"},"WebNode":{"errorType":"status_code","url":"https://{}.webnode.cz/","urlMain":"https://www.webnode.cz/","username_claimed":"radkabalcarova","username_unclaimed":"noonewouldeverusethis7"},"Whonix Forum":{"errorType":"status_code","url":"https://forums.whonix.org/u/{}","urlMain":"https://forums.whonix.org/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"Wikidot":{"errorMsg":"User does not exist.","errorType":"message","url":"http://www.wikidot.com/user:info/{}","urlMain":"http://www.wikidot.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Wikipedia":{"errorMsg":"<b>Wikipedia does not have a <a href=\\"/wiki/Wikipedia:User_pages\\" title=\\"Wikipedia:User pages\\">user page</a> with this exact name.</b>","errorType":"message","url":"https://www.wikipedia.org/wiki/User:{}","urlMain":"https://www.wikipedia.org/","username_claimed":"Hoadlck","username_unclaimed":"noonewouldeverusethis7"},"Windy":{"errorType":"status_code","url":"https://community.windy.com/user/{}","urlMain":"https://windy.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Wix":{"errorType":"status_code","url":"https://{}.wix.com","urlMain":"https://wix.com/","username_claimed":"support","username_unclaimed":"noonewouldeverusethis7"},"WordPress":{"errorType":"response_url","errorUrl":"wordpress.com/typo/?subdomain=","regexCheck":"^[a-zA-Z][a-zA-Z0-9_-]*$","url":"https://{}.wordpress.com/","urlMain":"https://wordpress.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"WordPressOrg":{"errorType":"response_url","errorUrl":"https://wordpress.org","url":"https://profiles.wordpress.org/{}/","urlMain":"https://wordpress.org/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Xbox Gamertag":{"errorType":"status_code","url":"https://xboxgamertag.com/search/{}","urlMain":"https://xboxgamertag.com/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"YouNow":{"errorMsg":"No users found","errorType":"message","url":"https://www.younow.com/{}/","urlMain":"https://www.younow.com/","urlProbe":"https://api.younow.com/php/api/broadcast/info/user={}/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"YouPic":{"errorType":"status_code","url":"https://youpic.com/photographer/{}/","urlMain":"https://youpic.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"YouTube":{"errorMsg":"Not Found","errorType":"message","url":"https://www.youtube.com/{}","urlMain":"https://www.youtube.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"Zhihu":{"errorType":"response_url","errorUrl":"https://www.zhihu.com/people/{}","url":"https://www.zhihu.com/people/{}","urlMain":"https://www.zhihu.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"akniga":{"errorType":"status_code","url":"https://akniga.org/profile/{}","urlMain":"https://akniga.org/profile/blue/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"allmylinks":{"errorMsg":"Page not found","errorType":"message","url":"https://allmylinks.com/{}","urlMain":"https://allmylinks.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"aminoapp":{"errorType":"status_code","url":"https://aminoapps.com/u/{}","urlMain":"https://aminoapps.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis77777"},"authorSTREAM":{"errorType":"status_code","url":"http://www.authorstream.com/{}/","urlMain":"http://www.authorstream.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"babyRU":{"errorMsg":"Упс, страница, которую вы искали, не существует","errorType":"message","url":"https://www.baby.ru/u/{}/","urlMain":"https://www.baby.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"babyblogRU":{"errorMsg":"<title>BabyBlog — крупнейшее сообщество родителей</title>","errorType":"message","url":"https://www.babyblog.ru/user/info/{}","urlMain":"https://www.babyblog.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"chaos.social":{"errorType":"status_code","url":"https://chaos.social/@{}","urlMain":"https://chaos.social/","username_claimed":"rixx","username_unclaimed":"noonewouldeverusethis7"},"couchsurfing":{"errorType":"status_code","url":"https://www.couchsurfing.com/people/{}","urlMain":"https://www.couchsurfing.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"d3RU":{"errorType":"status_code","url":"https://d3.ru/user/{}/posts","urlMain":"https://d3.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"dailykos":{"errorType":"status_code","url":"https://www.dailykos.com/user/{}","urlMain":"https://www.dailykos.com","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"datingRU":{"errorType":"status_code","url":"http://dating.ru/{}","urlMain":"http://dating.ru","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"devRant":{"errorType":"response_url","errorUrl":"https://devrant.com/","url":"https://devrant.com/users/{}","urlMain":"https://devrant.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"drive2":{"errorType":"status_code","url":"https://www.drive2.ru/users/{}","urlMain":"https://www.drive2.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"eGPU":{"errorType":"status_code","url":"https://egpu.io/forums/profile/{}/","urlMain":"https://egpu.io/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis"},"eintracht":{"errorType":"status_code","url":"https://community.eintracht.de/fans/{}","urlMain":"https://eintracht.de","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"fixya":{"errorType":"status_code","url":"https://www.fixya.com/users/{}","urlMain":"https://www.fixya.com","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis7"},"fl":{"errorType":"status_code","url":"https://www.fl.ru/users/{}","urlMain":"https://www.fl.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"forum_guns":{"errorMsg":"action=https://forum.guns.ru/forummisc/blog/search","errorType":"message","url":"https://forum.guns.ru/forummisc/blog/{}","urlMain":"https://forum.guns.ru/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"forumhouseRU":{"errorMsg":"Указанный пользователь не найден. Пожалуйста, введите другое имя.","errorType":"message","url":"https://www.forumhouse.ru/members/?username={}","urlMain":"https://www.forumhouse.ru/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"geocaching":{"errorType":"status_code","url":"https://www.geocaching.com/p/default.aspx?u={}","urlMain":"https://www.geocaching.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"gfycat":{"errorType":"status_code","url":"https://gfycat.com/@{}","urlMain":"https://gfycat.com/","username_claimed":"Test","username_unclaimed":"noonewouldeverusethis7"},"habr":{"errorType":"status_code","url":"https://habr.com/ru/users/{}","urlMain":"https://habr.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"hackster":{"errorType":"status_code","url":"https://www.hackster.io/{}","urlMain":"https://www.hackster.io","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"hunting":{"errorMsg":"Указанный пользователь не найден. Пожалуйста, введите другое имя.","errorType":"message","url":"https://www.hunting.ru/forum/members/?username={}","urlMain":"https://www.hunting.ru/forum/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"iMGSRC.RU":{"errorType":"response_url","errorUrl":"https://imgsrc.ru/","url":"https://imgsrc.ru/main/user.php?user={}","urlMain":"https://imgsrc.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"igromania":{"errorMsg":"Пользователь не зарегистрирован и не имеет профиля для просмотра.","errorType":"message","url":"http://forum.igromania.ru/member.php?username={}","urlMain":"http://forum.igromania.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"interpals":{"errorMsg":"The requested user does not exist or is inactive","errorType":"message","url":"https://www.interpals.net/{}","urlMain":"https://www.interpals.net/","username_claimed":"blue","username_unclaimed":"noneownsthisusername"},"irecommend":{"errorType":"status_code","url":"https://irecommend.ru/users/{}","urlMain":"https://irecommend.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"jbzd.com.pl":{"errorType":"status_code","url":"https://jbzd.com.pl/uzytkownik/{}","urlMain":"https://jbzd.com.pl/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"jeuxvideo":{"errorMsg":"Vous êtes","errorType":"message","url":"http://www.jeuxvideo.com/profil/{}?mode=infos","urlMain":"http://www.jeuxvideo.com","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis7"},"kofi":{"errorType":"response_url","errorUrl":"https://ko-fi.com/art?=redirect","url":"https://ko-fi.com/{}","urlMain":"https://ko-fi.com","username_claimed":"yeahkenny","username_unclaimed":"noonewouldeverusethis77777"},"kwork":{"errorType":"status_code","url":"https://kwork.ru/user/{}","urlMain":"https://www.kwork.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"labpentestit":{"errorType":"response_url","errorUrl":"https://lab.pentestit.ru/{}","url":"https://lab.pentestit.ru/profile/{}","urlMain":"https://lab.pentestit.ru/","username_claimed":"CSV","username_unclaimed":"noonewouldeverusethis7"},"last.fm":{"errorType":"status_code","url":"https://last.fm/user/{}","urlMain":"https://last.fm/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"leasehackr":{"errorType":"status_code","url":"https://forum.leasehackr.com/u/{}/summary/","urlMain":"https://forum.leasehackr.com/","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis"},"livelib":{"errorType":"status_code","url":"https://www.livelib.ru/reader/{}","urlMain":"https://www.livelib.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"mastodon.cloud":{"errorType":"status_code","url":"https://mastodon.cloud/@{}","urlMain":"https://mastodon.cloud/","username_claimed":"TheAdmin","username_unclaimed":"noonewouldeverusethis7"},"mastodon.social":{"errorType":"status_code","url":"https://mastodon.social/@{}","urlMain":"https://chaos.social/","username_claimed":"Gargron","username_unclaimed":"noonewouldeverusethis7"},"mastodon.technology":{"errorType":"status_code","url":"https://mastodon.technology/@{}","urlMain":"https://mastodon.xyz/","username_claimed":"ashfurrow","username_unclaimed":"noonewouldeverusethis7"},"mastodon.xyz":{"errorType":"status_code","url":"https://mastodon.xyz/@{}","urlMain":"https://mastodon.xyz/","username_claimed":"TheKinrar","username_unclaimed":"noonewouldeverusethis7"},"mercadolivre":{"errorType":"status_code","url":"https://www.mercadolivre.com.br/perfil/{}","urlMain":"https://www.mercadolivre.com.br","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis77777"},"metacritic":{"errorMsg":"User not found","errorType":"message","regexCheck":"^(?![-_].)[A-Za-z0-9-_]{3,15}$","url":"https://www.metacritic.com/user/{}","urlMain":"https://www.metacritic.com/","username_claimed":"blue","username_unclaimed":"noonewould"},"moikrug":{"errorType":"status_code","url":"https://moikrug.ru/{}","urlMain":"https://moikrug.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"mstdn.io":{"errorType":"status_code","url":"https://mstdn.io/@{}","urlMain":"https://mstdn.io/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"nairaland.com":{"errorType":"status_code","url":"https://www.nairaland.com/{}","urlMain":"https://www.nairaland.com/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"nnRU":{"errorType":"status_code","url":"https://{}.www.nn.ru/","urlMain":"https://https://www.nn.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"note":{"errorType":"status_code","url":"https://note.com/{}","urlMain":"https://note.com/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"npm":{"errorType":"status_code","url":"https://www.npmjs.com/~{}","urlMain":"https://www.npmjs.com/","username_claimed":"kennethsweezy","username_unclaimed":"noonewould"},"opennet":{"errorMsg":"Имя участника не найдено","errorType":"message","regexCheck":"^[^-]*$","url":"https://www.opennet.ru/~{}","urlMain":"https://www.opennet.ru/","username_claimed":"anonismus","username_unclaimed":"noneownsthisusername"},"osu!":{"errorType":"status_code","url":"https://osu.ppy.sh/users/{}","urlMain":"https://osu.ppy.sh/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"phpRU":{"errorMsg":"Указанный пользователь не найден. Пожалуйста, введите другое имя.","errorType":"message","url":"https://php.ru/forum/members/?username={}","urlMain":"https://php.ru/forum/","username_claimed":"apple","username_unclaimed":"noonewouldeverusethis7"},"pikabu":{"errorType":"status_code","url":"https://pikabu.ru/@{}","urlMain":"https://pikabu.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"pr0gramm":{"errorType":"status_code","url":"https://pr0gramm.com/user/{}","urlMain":"https://pr0gramm.com/","urlProbe":"https://pr0gramm.com/api/profile/info?name={}","username_claimed":"cha0s","username_unclaimed":"noonewouldeverusethis123123123123123123"},"prog.hu":{"errorType":"response_url","errorUrl":"https://prog.hu/azonosito/info/{}","url":"https://prog.hu/azonosito/info/{}","urlMain":"https://prog.hu/","username_claimed":"Sting","username_unclaimed":"noonewouldeverusethis7"},"radio_echo_msk":{"errorType":"status_code","url":"https://echo.msk.ru/users/{}","urlMain":"https://echo.msk.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"satsisRU":{"errorType":"status_code","url":"https://satsis.info/user/{}","urlMain":"https://satsis.info/","username_claimed":"red","username_unclaimed":"noonewouldeverusethis7"},"social.tchncs.de":{"errorType":"status_code","url":"https://social.tchncs.de/@{}","urlMain":"https://social.tchncs.de/","username_claimed":"Milan","username_unclaimed":"noonewouldeverusethis7"},"spletnik":{"errorType":"status_code","url":"https://spletnik.ru/user/{}","urlMain":"https://spletnik.ru/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"},"svidbook":{"errorType":"status_code","url":"https://www.svidbook.ru/user/{}","urlMain":"https://www.svidbook.ru/","username_claimed":"green","username_unclaimed":"noonewouldeverusethis7"},"toster":{"errorType":"status_code","url":"https://www.toster.ru/user/{}/answers","urlMain":"https://www.toster.ru/","username_claimed":"adam","username_unclaimed":"noonewouldeverusethis7"},"uid":{"errorType":"status_code","url":"http://uid.me/{}","urlMain":"https://uid.me/","username_claimed":"blue","username_unclaimed":"noonewouldeverusethis7"}}');var o=r.t(n,2);const s=JSON.parse('{"2Dimensions":{"omit":true},"3dnews":{"omit":true},"AllTrails":{"logoClass":"fa-question-circle","headers":{"credentials":"include"},"tags":["Sports"]},"Reddit":{"logoClass":"fa-reddit","tags":["Social Media"]},"Medium":{"logoClass":"fa-medium","tags":["Forum"]},"npm":{"logoClass":"fa-npm","tags":["Developers"]},"Telegram":{"logoClass":"fa-telegram-plane","tags":["Messaging"]},"Apple Discussions":{"logoClass":"fa-apple","tags":["Forum"]},"Behance":{"logoClass":"fa-behance","tags":["Social Media"]},"YouTube":{"logoClass":"fa-youtube","tags":["Entertainment"]},"Wikipedia":{"logoClass":"fa-wikipedia-w","tags":["Education"]},"Facebook":{"logoClass":"fa-facebook-square","tags":["Social Media"]},"Kaggle":{"logoClass":"fa-kaggle","tags":["Developers"]},"HackerRank":{"logoClass":"fa-hackerrank","tags":["Developers"]},"Codepen":{"logoClass":"fa-codepen","tags":["Developers"]},"Dribble":{"logoClass":"fa-dribble","tags":["Social Media"]},"HackerNews":{"logoClass":"fa-hacker-news","tags":["Developers","News"]},"Pinterest":{"logoClass":"fa-pinterest-square","tags":["Social Media"]},"Patreon":{"logoClass":"fa-patreon","tags":["Money"]},"BitCoinForum":{"logoClass":"fa-bitcoin","tags":["Money","Forum"]},"Trakt":{"logoClass":"fa-film","tags":["Entertainment"]},"Anobii":{"logoClass":"fa-question-circle","errorUrl":"https://www.anobii.com/stream","tags":["Forum","Education"]},"Ask Fedora":{"logoClass":"fa-question-circle","username_claimed":"franciscod","tags":["Developers","Forum"]},"BitBucket":{"logoClass":"fa-bitbucket","tags":["Developers"]},"BOOTH":{"logoClass":"fa-question-circle","errorUrl":"https://booth.pm/en","tags":["Shopping"]},"Carbonmade":{"logoClass":"fa-question-circle","errorType":"status_code","tags":["Social Media"]},"Chess":{"logoClass":"fa-question-circle","errorType":"status_code","tags":["Gaming"]},"Clozemaster":{"logoClass":"fa-question-circle","errorType":"response_url","errorUrl":"https://www.clozemaster.com/dashboard","tags":["Education"]},"Football":{"logoClass":"fa-question-circle","errorType":"status_code","tags":["Sports"]},"GitHub":{"logoClass":"fa-github","tags":["Developers"]},"GitLab":{"logoClass":"fa-gitlab","tags":["Developers"]},"NameMC (Minecraft.net skins)":{"logoClass":"fa-question-circle","errorMsg":["Status: Available","Status: Too Long"],"username_unclaimed":"fdkhajkj","tags":["Gaming"]},"Naver":{"omit":true},"Nightbot":{"logoClass":"fa-question-circle","request_head_only":false,"tags":["Gaming"]},"Otzovik":{"omit":true},"PSNProfiles.com":{"logoClass":"fa-question-circle","username_unclaimed":"dslakjfas","tags":["Gaming"]},"Plug.DJ":{"omit":true},"ProductHunt":{"logoClass":"fa-question-circle","errorType":"status_code","tags":["Forum"]},"Smashcast":{"omit":true},"Spotify":{"logoClass":"fa-spotify","errorType":"message","errorMsg":"<title>Spotify – Web Player</title>","tags":["Music"]},"last.fm":{"logoClass":"fa-lastfm","tags":["Music"]},"Twitch":{"logoClass":"fa-twitch","tags":["Gaming","Entertainment","Social Media"]},"Tinder":{"logoClass":"fa-question-circle","headers":{"User-Agent":"Tinder/7.5.3 (iPhone; iOS 10.3.2; Scale/2.00)"},"tags":["Social Media"]},"TripAdvisor":{"logoClass":"fa-tripadvisor","tags":["Travel"]},"Quora":{"logoClass":"fa-quora","tags":["Forum"]},"Trello":{"logoClass":"fa-trello","tags":["Organization"]},"Wix":{"logoClass":"fa-wix","tags":["Developers"]},"Steam":{"logoClass":"fa-steam","tags":["Gaming"]},"Xbox Gamertag":{"logoClass":"fa-xbox","tags":["Gaming"]},"Twitter":{"logoClass":"fa-twitter-square","headers":{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:50.0) Gecko/20100101 Firefox/50.0"},"errorType":"message","errorMsg":"Page not found","tags":["Social Media"]},"VK":{"logoClass":"fa-question-circle","errorType":"message","errorMsg":"https://vk.com/images/error404.png","tags":["Social Media"]},"WordPress":{"logoClass":"fa-question-circle","errorUrl":"https://wordpress.com/typo/?subdomain={}","tags":["Developers"]},"WordPressOrg":{"logoClass":"fa-question-circle","errorType":"status_code","tags":["Developers"]},"Keybase":{"logoClass":"fa-keybase","tags":["Developers","Social Media"]},"Zhihu":{"logoClass":"fa-question-circle","errorType":"status_code","tags":["Forum"]},"igromania":{"omit":true},"labpentestit":{"logoClass":"fa-question-circle","errorUrl":"https://lab.pentestit.ru/","tags":["Developers"]},"opennet":{"omit":true},"prog.hu":{"omit":true},"svidbook":{"logoClass":"fa-question-circle","username_claimed":"Balumba","tags":["Education"]}}');for(var i=r.t(s,2),u=JSON.parse(JSON.stringify(o)),a=i,c=0,l=Object.keys(i);c<l.length;c++)u[v=l[c]]=Object.assign({},u[v],a[v]);for(var d={},h={},f={},p=0,m=Object.keys(u);p<m.length;p++){var v;if(u[v=m[p]].name=v,u[v].logoClass=u[v].logoClass||"fa-question-circle",u[v].tags=u[v].tags||["Untagged"],u[v].tags.map((function(e){d[e]=!0})),u[v].urlMain){var _=new URL(u[v].urlMain);u[v].prettyUrl=_.hostname}u[v].omit?f[v]=u[v]:h[v]=u[v]}delete u.default,delete h.default,delete f.default;var g=Object.keys(d).sort(),w=u;function y(e,t){return Object.values(e).filter((function(e){return e.tags.some((function(e){return t.includes(e)}))}))}var b=r(624),k=r.n(b),M=r(521);M.v1,M.v3;const T=M.v4;M.v5;var A,C,S=r(322),j=r.n(S),O=r(684),x=r(105),E=r.n(x),P=r(717),q=r.n(P),D=r(187),z=r.n(D);function N(e){return"$"+e}function R(e){return e.substring(1)}function L(){this._store={}}function I(e){if(this._store=new L,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}L.prototype.get=function(e){var t=N(e);return this._store[t]},L.prototype.set=function(e,t){var r=N(e);return this._store[r]=t,!0},L.prototype.has=function(e){return N(e)in this._store},L.prototype.delete=function(e){var t=N(e),r=t in this._store;return delete this._store[t],r},L.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var o=t[r];e(this._store[o],o=R(o))}},Object.defineProperty(L.prototype,"size",{get:function(){return Object.keys(this._store).length}}),I.prototype.add=function(e){return this._store.set(e,!0)},I.prototype.has=function(e){return this._store.has(e)},I.prototype.forEach=function(e){this._store.forEach((function(t,r){e(r)}))},Object.defineProperty(I.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(A=Set,C=Map):(A=I,C=L);var $,B=Function.prototype.toString,U=B.call(Object);function F(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=F(e[r]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&B.call(r)==U}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=F(e[r]);void 0!==o&&(t[r]=o)}return t}function G(e){var t=!1;return E()((function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)}))}function J(e){return E()((function(t){t=F(t);var r=this,n="function"==typeof t[t.length-1]&&t.pop(),o=new Promise((function(n,o){var s;try{var i=G((function(e,t){e?o(e):n(t)}));t.push(i),(s=e.apply(r,t))&&"function"==typeof s.then&&n(s)}catch(e){o(e)}}));return n&&o.then((function(e){n(null,e)}),n),o}))}function Z(e,t){return J(E()((function(r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return function(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],o=0;o<r.length-1;o++)n.push(r[o]);e.constructor.emit("debug",n);var s=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",e.name,t];o=o.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",o),s(r,n)}}}(n,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise((function(t,o){n.taskqueue.addTask((function(s){s?o(s):t(n[e].apply(n,r))}))}))})))}function K(e,t){for(var r={},n=0,o=t.length;n<o;n++){var s=t[n];s in e&&(r[s]=e[s])}return r}function W(e){return e}function V(e){return[{ok:e}]}function H(e,t,r){var n=t.docs,o=new C;n.forEach((function(e){o.has(e.id)?o.get(e.id).push(e):o.set(e.id,[e])}));var s=o.size,i=0,u=new Array(s);var a=[];o.forEach((function(e,t){a.push(t)}));var c=0;!function n(){if(!(c>=a.length)){var l=Math.min(c+6,a.length),d=a.slice(c,l);!function(a,c){a.forEach((function(a,l){var d=c+l,h=o.get(a),f=K(h[0],["atts_since","attachments"]);f.open_revs=h.map((function(e){return e.rev})),f.open_revs=f.open_revs.filter(W);var p=W;0===f.open_revs.length&&(delete f.open_revs,p=V),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(f[e]=t[e])})),e.get(a,f,(function(e,t){var o,c,l,h;o=e?[{error:e}]:p(t),c=a,l=o,u[d]={id:c,docs:l},++i===s&&(h=[],u.forEach((function(e){e.docs.forEach((function(t){h.push({id:e.id,docs:[t]})}))})),r(null,{results:h})),n()}))}))}(d,c),c+=d.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),$=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){$=!1}function Q(){return $}function Y(){z().call(this),this._listeners={},function(e){Q()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function X(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function ee(e){var t=0;return e||(t=2e3),function(e,t){var r=6e5;return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>r&&(e=3e5,t=r),~~((t-e)*Math.random()+e)}(e,t)}function te(e,t){X("info","The above "+e+" is totally normal. "+t)}q()(Y,z()),Y.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var o=this,s=!1;this._listeners[t]=i,this.on(e,i)}function i(){if(o._listeners[t])if(s)s="waiting";else{s=!0;var e=K(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(e).on("change",(function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))})).on("complete",(function(){"waiting"===s&&k()(i),s=!1})).on("error",(function(){s=!1}))}}},Y.prototype.removeListener=function(e,t){t in this._listeners&&(z().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},Y.prototype.notifyLocalWindows=function(e){Q()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},Y.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var re="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function ne(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}q()(ne,Error),ne.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new ne(401,"unauthorized","Name or password is incorrect.");var oe=new ne(400,"bad_request","Missing JSON list of 'docs'"),se=new ne(404,"not_found","missing"),ie=new ne(409,"conflict","Document update conflict"),ue=new ne(400,"bad_request","_id field must contain a string"),ae=new ne(412,"missing_id","_id is required for puts"),ce=new ne(400,"bad_request","Only reserved document ids may start with underscore."),le=(new ne(412,"precondition_failed","Database not open"),new ne(500,"unknown_error","Database encountered an unknown error")),de=new ne(500,"badarg","Some query argument is invalid"),he=(new ne(400,"invalid_request","Request was invalid"),new ne(400,"query_parse_error","Some query parameter is invalid")),fe=new ne(500,"doc_validation","Bad special document member"),pe=new ne(400,"bad_request","Something wrong with the request"),me=new ne(400,"bad_request","Document must be a JSON object"),ve=(new ne(404,"not_found","Database not found"),new ne(500,"indexed_db_went_bad","unknown")),_e=(new ne(500,"web_sql_went_bad","unknown"),new ne(500,"levelDB_went_went_bad","unknown"),new ne(403,"forbidden","Forbidden by design doc validate_doc_update function"),new ne(400,"bad_request","Invalid rev format")),ge=(new ne(412,"file_exists","The database could not be created, the file already exists."),new ne(412,"missing_stub","A pre-existing attachment stub wasn't found"));function we(e,t){function r(t){for(var r=Object.getOwnPropertyNames(e),n=0,o=r.length;n<o;n++)"function"!=typeof e[r[n]]&&(this[r[n]]=e[r[n]]);void 0!==t&&(this.reason=t)}return r.prototype=ne.prototype,new r(t)}function ye(e){if("object"!=typeof e){var t=e;(e=le).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function be(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var o=r&&function(e,t,r){try{return!e(t,r)}catch(e){var n="Filter function threw: "+e.toString();return we(pe,n)}}(e.filter,n.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var s in n.doc._attachments)n.doc._attachments.hasOwnProperty(s)&&(n.doc._attachments[s].stub=!0)}else delete n.doc;return!0}}function ke(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function Me(e){var t;if(e?"string"!=typeof e?t=we(ue):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=we(ce)):t=we(ae),t)throw t}function Te(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(X("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function Ae(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function Ce(e){var t=Ae(e);return t?t.join("/"):null}new ne(413,"invalid_url","Provided URL is invalid");var Se=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],je="queryKey",Oe=/(?:^|&)([^&=]*)=?([^&]*)/g,xe=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Ee(e){for(var t=xe.exec(e),r={},n=14;n--;){var o=Se[n],s=t[n]||"",i=-1!==["user","password"].indexOf(o);r[o]=i?decodeURIComponent(s):s}return r[je]={},r[Se[12]].replace(Oe,(function(e,t,n){t&&(r[je][t]=n)})),r}function Pe(e,t){var r=[],n=[];for(var o in t)t.hasOwnProperty(o)&&(r.push(o),n.push(t[o]));return r.push(e),Function.apply(null,r).apply(null,n)}function qe(e,t,r){return new Promise((function(n,o){e.get(t,(function(s,i){if(s){if(404!==s.status)return o(s);i={}}var u=i._rev,a=r(i);if(!a)return n({updated:!1,rev:u});a._id=t,a._rev=u,n(function(e,t,r){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(n){if(409!==n.status)throw n;return qe(e,t._id,r)}))}(e,a,r))}))}))}var De=function(e){return atob(e)},ze=function(e){return btoa(e)};function Ne(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}function Re(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}function Le(e,t){return Ne([Re(e)],{type:t})}function Ie(e,t){return Le(De(e),t)}function $e(e,t){var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";if(n)return t(r);t(function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,o=0;o<n;o++)t+=String.fromCharCode(r[o]);return t}(r))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function Be(e,t){$e(e,(function(e){t(e)}))}function Ue(e,t){Be(e,(function(e){t(ze(e))}))}var Fe=self.setImmediate||self.setTimeout;function Ge(e,t,r,n,o){(r>0||n<t.size)&&(t=function(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.slice(t,r)}(t,r,n)),function(e,t){var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}(t,(function(t){e.append(t),o()}))}function Je(e,t,r,n,o){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),o()}function Ze(e,t){var r="string"==typeof e,n=r?e.length:e.size,o=Math.min(32768,n),s=Math.ceil(n/o),i=0,u=r?new(j()):new(j().ArrayBuffer),a=r?Je:Ge;function c(){Fe(d)}function l(){var e,r=(e=u.end(!0),ze(e));t(r),u.destroy()}function d(){var t=i*o;i++,a(u,e,t,t+o,i<s?c:l)}d()}function Ke(e){return j().hash(e)}function We(e,t){var r=F(e);return t?(delete r._rev_tree,Ke(JSON.stringify(r))):T().replace(/-/g,"").toLowerCase()}var Ve=T;function He(e){for(var t,r,n,o,s=e.rev_tree.slice();o=s.pop();){var i=o.ids,u=i[2],a=o.pos;if(u.length)for(var c=0,l=u.length;c<l;c++)s.push({pos:a+1,ids:u[c]});else{var d=!!i[1].deleted,h=i[0];t&&!(n!==d?n:r!==a?r<a:t<h)||(t=h,r=a,n=d)}}return r+"-"+t}function Qe(e,t){for(var r,n=e.slice();r=n.pop();)for(var o=r.pos,s=r.ids,i=s[2],u=t(0===i.length,o,s[0],r.ctx,s[1]),a=0,c=i.length;a<c;a++)n.push({pos:o+1,ids:i[a],ctx:u})}function Ye(e,t){return e.pos-t.pos}function Xe(e){var t=[];Qe(e,(function(e,r,n,o,s){e&&t.push({rev:r+"-"+n,pos:r,opts:s})})),t.sort(Ye).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function et(e){for(var t=He(e),r=Xe(e.rev_tree),n=[],o=0,s=r.length;o<s;o++){var i=r[o];i.rev===t||i.opts.deleted||n.push(i.rev)}return n}function tt(e){for(var t,r=[],n=e.slice();t=n.pop();){var o=t.pos,s=t.ids,i=s[0],u=s[1],a=s[2],c=0===a.length,l=t.history?t.history.slice():[];l.push({id:i,opts:u}),c&&r.push({pos:o+1-l.length,ids:l});for(var d=0,h=a.length;d<h;d++)n.push({pos:o+1,ids:a[d],history:l})}return r.reverse()}function rt(e,t){return e.pos-t.pos}function nt(e,t,r){var n=function(e,t,r){for(var n,o=0,s=e.length;o<s;)r(e[n=o+s>>>1],t)<0?o=n+1:s=n;return o}(e,t,r);e.splice(n,0,t)}function ot(e,t){for(var r,n,o=t,s=e.length;o<s;o++){var i=e[o],u=[i.id,i.opts,[]];n?(n[2].push(u),n=u):r=n=u}return r}function st(e,t){return e[0]<t[0]?-1:1}function it(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var o=r.pop(),s=o.tree1,i=o.tree2;(s[1].status||i[1].status)&&(s[1].status="available"===s[1].status||"available"===i[1].status?"available":"missing");for(var u=0;u<i[2].length;u++)if(s[2][0]){for(var a=!1,c=0;c<s[2].length;c++)s[2][c][0]===i[2][u][0]&&(r.push({tree1:s[2][c],tree2:i[2][u]}),a=!0);a||(n="new_branch",nt(s[2],i[2][u],st))}else n="new_leaf",s[2][0]=i[2][u]}return{conflicts:n,tree:e}}function ut(e,t,r){var n,o=[],s=!1,i=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,a=e.length;u<a;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])n=it(c.ids,t.ids),o.push({pos:c.pos,ids:n.tree}),s=s||n.conflicts,i=!0;else if(!0!==r){var l=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,h=d.pos-l.pos,f=[],p=[];for(p.push({ids:l.ids,diff:h,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var v=m.ids[2],_=0,g=v.length;_<g;_++)p.push({ids:v[_],diff:m.diff-1,parent:m.ids,parentIdx:_});else m.ids[0]===d.ids[0]&&f.push(m)}var w=f[0];w?(n=it(w.ids,d.ids),w.parent[2][w.parentIdx]=n.tree,o.push({pos:l.pos,ids:l.ids}),s=s||n.conflicts,i=!0):o.push(c)}else o.push(c)}return i||o.push(t),o.sort(rt),{tree:o,conflicts:s||"internal_node"}}function at(e,t,r){var n=ut(e,t),o=function(e,t){for(var r,n,o=tt(e),s=0,i=o.length;s<i;s++){var u,a=o[s],c=a.ids;if(c.length>t){r||(r={});var l=c.length-t;u={pos:a.pos+l,ids:ot(c,l)};for(var d=0;d<l;d++){var h=a.pos+d+"-"+c[d].id;r[h]=!0}}else u={pos:a.pos,ids:ot(c,0)};n=n?ut(n,u,!0).tree:[u]}return r&&Qe(n,(function(e,t,n){delete r[t+"-"+n]})),{tree:n,revs:r?Object.keys(r):[]}}(n.tree,r);return{tree:o.tree,stemmedRevs:o.revs,conflicts:n.conflicts}}function ct(e){return e.ids}function lt(e,t){t||(t=He(e));for(var r,n=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(ct);r=o.pop();){if(r[0]===n)return!!r[1].deleted;o=o.concat(r[2])}}function dt(e){return/^_local/.test(e)}function ht(e,t,r){z().call(this);var n=this;this.db=e;var o=(t=t?F(t):{}).complete=G((function(t,r){var o,i;t?(i="error",("listenerCount"in(o=n)?o.listenerCount(i):z().listenerCount(o,i))>0&&n.emit("error",t)):n.emit("complete",r),n.removeAllListeners(),e.removeListener("destroyed",s)}));function s(){n.cancel()}r&&(n.on("complete",(function(e){r(null,e)})),n.on("error",r)),e.once("destroyed",s),t.onChange=function(e,t,r){n.isCancelled||function(e,t,r,n){try{e.emit("change",t,r,n)}catch(e){X("error",'Error in .on("change", function):',e)}}(n,e,t,r)};var i=new Promise((function(e,r){t.complete=function(t,n){t?r(t):e(n)}}));n.once("cancel",(function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})})),this.then=i.then.bind(i),this.catch=i.catch.bind(i),this.then((function(e){o(null,e)}),o),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):n.isCancelled?n.emit("cancel"):n.validateChanges(t)}))}function ft(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=Xe(t.rev_tree).map((function(e){return{rev:e.rev}})));var o={id:t.id,changes:n,doc:e};return lt(t,e._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=et(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function pt(e,t){return e<t?-1:e>t?1:0}function mt(e,t){return function(r,n){r||n[0]&&n[0].error?((r=r||n[0]).docId=t,e(r)):e(null,n.length?n[0]:n)}}function vt(e,t){var r=pt(e._id,t._id);return 0!==r?r:pt(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function _t(e){var t=e._compactionQueue[0],r=t.opts,n=t.callback;e.get("_local/compaction").catch((function(){return!1})).then((function(t){t&&t.last_seq&&(r.last_seq=t.last_seq),e._compact(r,(function(t,r){t?n(t):n(null,r),k()((function(){e._compactionQueue.shift(),e._compactionQueue.length&&_t(e)}))}))}))}function gt(){for(var e in z().call(this),gt.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function wt(){this.isReady=!1,this.failed=!1,this.queue=[]}function yt(e,t){if(!(this instanceof yt))return new yt(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=F(t),r.auto_compaction=t.auto_compaction,r.prefix=yt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var n=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=yt.adapters,o=yt.preferredAdapters,s=yt.prefix,i=t.adapter;if(!i)for(var u=0;u<o.length&&"idb"===(i=o[u])&&"websql"in n&&Q()&&localStorage["_pouch__websqldb_"+s+e];++u)X("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var a=n[i];return{name:a&&"use_prefix"in a&&!a.use_prefix?e:s+e,adapter:i}}((t.prefix||"")+e,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,r.name=e,r._adapter=t.adapter,yt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!yt.adapters[t.adapter]||!yt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);gt.call(r),r.taskqueue=new wt,r.adapter=t.adapter,yt.adapters[t.adapter].call(r,t,(function(e){if(e)return r.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",r),t||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}(r),r.emit("created",r),yt.emit("created",r.name),r.taskqueue.ready(r)}))}q()(ht,z()),ht.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ht.prototype.validateChanges=function(e){var t=e.complete,r=this;yt._changesFilterPlugin?yt._changesFilterPlugin.validate(e,(function(n){if(n)return t(n);r.doChanges(e)})):r.doChanges(e)},ht.prototype.doChanges=function(e){var t=this,r=e.complete;if("live"in(e=F(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=ft,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(yt._changesFilterPlugin){if(yt._changesFilterPlugin.normalize(e),yt._changesFilterPlugin.shouldFilter(this,e))return yt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&X("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var o=t.cancel;t.cancel=E()((function(e){n.cancel(),o.apply(this,e)}))}}else this.db.info().then((function(n){t.isCancelled?r(null,{status:"cancelled"}):(e.since=n.update_seq,t.doChanges(e))}),r)},q()(gt,z()),gt.prototype.post=Z("post",(function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(we(me));this.bulkDocs({docs:[e]},t,mt(r,e._id))})),gt.prototype.put=Z("put",(function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(we(me));if(Me(e._id),dt(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var n,o,s,i,u=this;function a(r){"function"==typeof u._put&&!1!==t.new_edits?u._put(e,t,r):u.bulkDocs({docs:[e]},t,mt(r,e._id))}t.force&&e._rev?(o=(n=e._rev.split("-"))[1],s=parseInt(n[0],10)+1,i=We(),e._revisions={start:s,ids:[i,o]},e._rev=s+"-"+i,t.new_edits=!1,a((function(t){var n=t?null:{ok:!0,id:e._id,rev:e._rev};r(t,n)}))):a(r)})),gt.prototype.putAttachment=Z("putAttachment",(function(e,t,r,n,o){var s=this;function i(e){var r="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:n,revpos:++r},s.put(e)}return"function"==typeof o&&(o=n,n=r,r=null),void 0===o&&(o=n,n=r,r=null),o||X("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then((function(e){if(e._rev!==r)throw we(ie);return i(e)}),(function(t){if(t.reason===se.message)return i({_id:e});throw t}))})),gt.prototype.removeAttachment=Z("removeAttachment",(function(e,t,r,n){var o=this;o.get(e,(function(e,s){if(e)n(e);else if(s._rev===r){if(!s._attachments)return n();delete s._attachments[t],0===Object.keys(s._attachments).length&&delete s._attachments,o.put(s,n)}else n(we(ie))}))})),gt.prototype.remove=Z("remove",(function(e,t,r,n){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(o=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var s={_id:o._id,_rev:o._rev||r.rev,_deleted:!0};if(dt(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,n);this.bulkDocs({docs:[s]},r,mt(n,s._id))})),gt.prototype.revsDiff=Z("revsDiff",(function(e,t,r){"function"==typeof t&&(r=t,t={});var n=Object.keys(e);if(!n.length)return r(null,{});var o=0,s=new C;function i(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}n.map((function(t){this._getRevisionTree(t,(function(u,a){if(u&&404===u.status&&"missing"===u.message)s.set(t,{missing:e[t]});else{if(u)return r(u);!function(t,r){var n=e[t].slice(0);Qe(r,(function(e,r,o,s,u){var a=r+"-"+o,c=n.indexOf(a);-1!==c&&(n.splice(c,1),"available"!==u.status&&i(t,a))})),n.forEach((function(e){i(t,e)}))}(t,a)}if(++o===n.length){var c={};return s.forEach((function(e,t){c[t]=e})),r(null,c)}}))}),this)})),gt.prototype.bulkGet=Z("bulkGet",(function(e,t){H(this,e,t)})),gt.prototype.compactDocument=Z("compactDocument",(function(e,t,r){var n=this;this._getRevisionTree(e,(function(o,s){if(o)return r(o);var i=function(e){var t={},r=[];return Qe(e,(function(e,n,o,s){var i=n+"-"+o;return e&&(t[i]=0),void 0!==s&&r.push({from:s,to:i}),i})),r.reverse(),r.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(s),u=[],a=[];Object.keys(i).forEach((function(e){i[e]>t&&u.push(e)})),Qe(s,(function(e,t,r,n,o){var s=t+"-"+r;"available"===o.status&&-1!==u.indexOf(s)&&a.push(s)})),n._doCompaction(e,a,r)}))})),gt.prototype.compact=Z("compact",(function(e,t){"function"==typeof e&&(t=e,e={});var r=this;e=e||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:e,callback:t}),1===r._compactionQueue.length&&_t(r)})),gt.prototype._compact=function(e,t){var r=this,n={return_docs:!1,last_seq:e.last_seq||0},o=[];r.changes(n).on("change",(function(e){o.push(r.compactDocument(e.id,0))})).on("complete",(function(e){var n=e.last_seq;Promise.all(o).then((function(){return qe(r,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},gt.prototype.get=Z("get",(function(e,t,r){if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(we(ue));if(dt(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var n=[],o=this;function s(){var s=[],i=n.length;if(!i)return r(null,s);n.forEach((function(n){o.get(e,{rev:n,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)s.push({missing:n});else{for(var o,u=0,a=s.length;u<a;u++)if(s[u].ok&&s[u].ok._rev===t._rev){o=!0;break}o||s.push({ok:t})}--i||r(null,s)}))}))}if(!t.open_revs)return this._get(e,t,(function(n,s){if(n)return n.docId=e,r(n);var i=s.doc,u=s.metadata,a=s.ctx;if(t.conflicts){var c=et(u);c.length&&(i._conflicts=c)}if(lt(u,i._rev)&&(i._deleted=!0),t.revs||t.revs_info){for(var l=i._rev.split("-"),d=parseInt(l[0],10),h=l[1],f=tt(u.rev_tree),p=null,m=0;m<f.length;m++){var v=f[m],_=v.ids.map((function(e){return e.id})).indexOf(h);(_===d-1||!p&&-1!==_)&&(p=v)}if(!p)return(n=new Error("invalid rev tree")).docId=e,r(n);var g=p.ids.map((function(e){return e.id})).indexOf(i._rev.split("-")[1])+1,w=p.ids.length-g;if(p.ids.splice(g,w),p.ids.reverse(),t.revs&&(i._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var y=p.pos+p.ids.length;i._revs_info=p.ids.map((function(e){return{rev:--y+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&i._attachments){var b=i._attachments,k=Object.keys(b).length;if(0===k)return r(null,i);Object.keys(b).forEach((function(e){this._getAttachment(i._id,e,b[e],{rev:i._rev,binary:t.binary,ctx:a},(function(t,n){var o=i._attachments[e];o.data=n,delete o.stub,delete o.length,--k||r(null,i)}))}),o)}else{if(i._attachments)for(var M in i._attachments)i._attachments.hasOwnProperty(M)&&(i._attachments[M].stub=!0);r(null,i)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return r(e);n=Xe(t).map((function(e){return e.rev})),s()}));else{if(!Array.isArray(t.open_revs))return r(we(le,"function_clause"));n=t.open_revs;for(var i=0;i<n.length;i++){var u=n[i];if("string"!=typeof u||!/^\d+-/.test(u))return r(we(_e))}s()}})),gt.prototype.getAttachment=Z("getAttachment",(function(e,t,r,n){var o=this;r instanceof Function&&(n=r,r={}),this._get(e,r,(function(s,i){return s?n(s):i.doc._attachments&&i.doc._attachments[t]?(r.ctx=i.ctx,r.binary=!0,void o._getAttachment(e,t,i.doc._attachments[t],r,n)):n(we(se))}))})),gt.prototype.allDocs=Z("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(r)return void t(we(he,"Query parameter `"+r+"` is not compatible with multi-get"));if(!Te(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),gt.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new ht(this,e,t)},gt.prototype.close=Z("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),gt.prototype.info=Z("info",(function(e){var t=this;this._info((function(r,n){if(r)return e(r);n.db_name=n.db_name||t.name,n.auto_compaction=!(!t.auto_compaction||Te(t)),n.adapter=t.adapter,e(null,n)}))})),gt.prototype.id=Z("id",(function(e){return this._id(e)})),gt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},gt.prototype.bulkDocs=Z("bulkDocs",(function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(we(oe));for(var n=0;n<e.docs.length;++n)if("object"!=typeof e.docs[n]||Array.isArray(e.docs[n]))return r(we(me));var o;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){o=o||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||X("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),o)return r(we(pe,o));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||Te(s)||e.docs.sort(vt),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),o=0;o<n.length;o++){var s=n[o];r._attachments[s]=K(r._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var i=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,n){if(e)return r(e);if(t.new_edits||(n=n.filter((function(e){return e.error}))),!Te(s))for(var o=0,u=n.length;o<u;o++)n[o].id=n[o].id||i[o];r(null,n)}))})),gt.prototype.registerDependentDatabase=Z("registerDependentDatabase",(function(e,t){var r=new this.constructor(e,this.__opts);qe(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:r})})).catch(t)})),gt.prototype.destroy=Z("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var r=this,n=!("use_prefix"in r)||r.use_prefix;function o(){r._destroy(e,(function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})}))}if(Te(r))return o();r.get("_local/_pouch_dependentDbs",(function(e,s){if(e)return 404!==e.status?t(e):o();var i=s.dependentDbs,u=r.constructor,a=Object.keys(i).map((function(e){var t=n?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,r.__opts).destroy()}));Promise.all(a).then(o,t)}))})),wt.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},wt.prototype.fail=function(e){this.failed=e,this.execute()},wt.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},wt.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},q()(yt,gt);var bt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},kt=fetch,Mt=Headers;yt.adapters={},yt.preferredAdapters=[],yt.prefix="_pouch_";var Tt=new(z());function At(e,t){for(var r=e,n=0,o=t.length;n<o&&(r=r[t[n]]);n++);return r}function Ct(e){for(var t=[],r="",n=0,o=e.length;n<o;n++){var s=e[n];"."===s?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=s}return t.push(r),t}!function(e){Object.keys(z().prototype).forEach((function(t){"function"==typeof z().prototype[t]&&(e[t]=Tt[t].bind(Tt))}));var t=e._destructionListeners=new C;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var r=t.get(e.name),n=r.indexOf(e);n<0||(r.splice(n,1),r.length>1?t.set(e.name,r):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var r=t.get(e);t.delete(e),r.forEach((function(e){e.emit("destroyed",!0)}))}}))}(yt),yt.adapter=function(e,t,r){t.valid()&&(yt.adapters[e]=t,r&&yt.preferredAdapters.push(e))},yt.plugin=function(e){if("function"==typeof e)e(yt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){yt.prototype[t]=e[t]}))}return this.__defaults&&(yt.__defaults=re({},this.__defaults)),yt},yt.defaults=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);r=r||{},e&&"object"==typeof e&&(e=(r=e).name,delete r.name),r=re({},t.__defaults,r),yt.call(this,e,r)}return q()(t,yt),t.preferredAdapters=yt.preferredAdapters.slice(),Object.keys(yt).forEach((function(e){e in t||(t[e]=yt[e])})),t.__defaults=re({},this.__defaults,e),t},yt.fetch=function(e,t){return kt(e,t)};var St=["$or","$nor","$not"];function jt(e){return St.indexOf(e)>-1}function Ot(e){return Object.keys(e)[0]}function xt(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){var n=e[r];if("object"!=typeof n&&(n={$eq:n}),jt(r))t[r]=n instanceof Array?n.map((function(e){return xt([e])})):xt([n]);else{var o=t[r]=t[r]||{};Object.keys(n).forEach((function(e){var t=n[e];return"$gt"===e||"$gte"===e?function(e,t,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}(e,t,o):"$lt"===e||"$lte"===e?function(e,t,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}(e,t,o):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,o):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,o):void(o[e]=t)}))}}))})),t}function Et(e){for(var t in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=xt(e[r].$and));var n=e[t];"object"==typeof n&&Et(n)}return e}function Pt(e,t){for(var r in e){"$and"===r&&(t=!0);var n=e[r];"object"==typeof n&&(t=Pt(n,t))}return t}function qt(e){var t=F(e),r=!1;Pt(t,!1)&&("$and"in(t=Et(t))&&(t=xt(t.$and)),r=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r],o=e[n];"object"==typeof o&&null!==o||(e[n]={$eq:o})}}))})),"$not"in t&&(t.$not=xt([t.$not]));for(var n=Object.keys(t),o=0;o<n.length;o++){var s=n[o],i=t[s];"object"!=typeof i||null===i?i={$eq:i}:"$ne"in i&&!r&&(i.$ne=[i.$ne]),t[s]=i}return t}function Dt(e,t){if(e===t)return 0;e=zt(e),t=zt(t);var r=It(e),n=It(t);if(r-n!=0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var o=Dt(e[n],t[n]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),o=Math.min(r.length,n.length),s=0;s<o;s++){var i=Dt(r[s],n[s]);if(0!==i)return i;if(0!==(i=Dt(e[r[s]],t[n[s]])))return i}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function zt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=zt(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var o in e={},t)if(t.hasOwnProperty(o)){var s=t[o];void 0!==s&&(e[o]=zt(s))}}}return e}function Nt(e){return It(e=zt(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,r=e.toExponential().split(/e\+?/),n=parseInt(r[1],10),o=e<0,s=o?"0":"2";s+=""+(function(e,t,r){for(var n="",o=3-e.length;n.length<o;)n+="0";return n}(t=((o?-n:n)- -324).toString())+t);var i=Math.abs(parseFloat(r[0]));o&&(i=10-i);var u=i.toFixed(20);return s+""+u.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,o=r.length,s="";if(t)for(;++n<o;)s+=Nt(r[n]);else for(;++n<o;){var i=r[n];s+=Nt(i)+Nt(e[i])}return s}return""}(e)+"\0"}function Rt(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var o="0"===e[t];t++;var s="",i=e.substring(t,t+3),u=parseInt(i,10)+-324;for(o&&(u=-u),t+=3;;){var a=e[t];if("\0"===a)break;s+=a,t++}r=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),o&&(r-=10),0!==u&&(r=parseFloat(r+"e"+u))}return{num:r,length:t-n}}function Lt(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var o=n.element,s=n.index;Array.isArray(o)?o.push(r):s===e.length-2?o[e.pop()]=r:e.push(r)}}function It(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function $t(e,t,r){return r.every((function(r){var n=t[r],o=Ct(r),s=At(e,o);return jt(r)?function(e,t,r){return"$or"===e?t.some((function(e){return $t(r,e,Object.keys(e))})):"$not"===e?!$t(r,t,Object.keys(t)):!t.find((function(e){return $t(r,e,Object.keys(e))}))}(r,n,e):Bt(n,e,o,s)}))}function Bt(e,t,r,n){return!e||("object"==typeof e?Object.keys(e).every((function(o){var s=e[o];return function(e,t,r,n,o){if(!Jt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return Jt[e](t,r,n,o)}(o,t,s,r,n)})):e===n)}function Ut(e){return null!=e}function Ft(e){return void 0!==e}function Gt(e,t){return t.some((function(t){return e instanceof Array?e.indexOf(t)>-1:e===t}))}var Jt={$elemMatch:function(e,t,r,n){return!!Array.isArray(n)&&0!==n.length&&("object"==typeof n[0]?n.some((function(e){return $t(e,t,Object.keys(t))})):n.some((function(n){return Bt(t,e,r,n)})))},$allMatch:function(e,t,r,n){return!!Array.isArray(n)&&0!==n.length&&("object"==typeof n[0]?n.every((function(e){return $t(e,t,Object.keys(t))})):n.every((function(n){return Bt(t,e,r,n)})))},$eq:function(e,t,r,n){return Ft(n)&&0===Dt(n,t)},$gte:function(e,t,r,n){return Ft(n)&&Dt(n,t)>=0},$gt:function(e,t,r,n){return Ft(n)&&Dt(n,t)>0},$lte:function(e,t,r,n){return Ft(n)&&Dt(n,t)<=0},$lt:function(e,t,r,n){return Ft(n)&&Dt(n,t)<0},$exists:function(e,t,r,n){return t?Ft(n):!Ft(n)},$mod:function(e,t,r,n){return Ut(n)&&function(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}(n,t)},$ne:function(e,t,r,n){return t.every((function(e){return 0!==Dt(n,e)}))},$in:function(e,t,r,n){return Ut(n)&&Gt(n,t)},$nin:function(e,t,r,n){return Ut(n)&&!Gt(n,t)},$size:function(e,t,r,n){return Ut(n)&&function(e,t){return e.length===t}(n,t)},$all:function(e,t,r,n){return Array.isArray(n)&&function(e,t){return t.every((function(t){return e.indexOf(t)>-1}))}(n,t)},$regex:function(e,t,r,n){return Ut(n)&&function(e,t){return new RegExp(t).test(e)}(n,t)},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};function Zt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var r="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function Kt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=Ce(e.view):e.filter=Ce(e.filter))}function Wt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Te(e.db)}function Vt(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var n=we(pe,"`view` filter parameter not found or invalid.");return r(n)}var o=Ae(t.view);e.db.get("_design/"+o[0],(function(n,s){if(e.isCancelled)return r(null,{status:"cancelled"});if(n)return r(ye(n));var i=s&&s.views&&s.views[o[1]]&&s.views[o[1]].map;if(!i)return r(we(se,s.views?"missing json key: "+o[1]:"missing json key: views"));t.filter=Pe(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+i+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=function(e,t,r){if(e=e.filter((function(e){return $t(e.doc,t.selector,r)})),t.sort){var n=function(e){function t(t){return e.map((function(e){var r=Ct(Ot(e));return At(t,r)}))}return function(e,r){var n,o,s=Dt(t(e.doc),t(r.doc));return 0!==s?s:(n=e.doc._id)<(o=r.doc._id)?-1:n>o?1:0}}(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===(o=t.sort[0])[Ot(o)]&&(e=e.reverse())}var o;if("limit"in t||"skip"in t){var s=t.skip||0,i=("limit"in t?t.limit:e.length)+s;e=e.slice(s,i)}return e}([{doc:e}],{selector:t=qt(t)},Object.keys(t));return r&&1===r.length}(e,t.selector)},e.doChanges(t);else{var s=Ae(t.filter);e.db.get("_design/"+s[0],(function(n,o){if(e.isCancelled)return r(null,{status:"cancelled"});if(n)return r(ye(n));var i=o&&o.filters&&o.filters[s[1]];if(!i)return r(we(se,o&&o.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=Pe('"use strict";\nreturn '+i+";",{}),e.doChanges(t)}))}}function Ht(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}yt.plugin((function(e){e._changesFilterPlugin={validate:Zt,normalize:Kt,shouldFilter:Wt,filter:Vt}})),yt.version="7.2.2";var Qt=Ht(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Yt=Ht(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Xt(e){if(!/^\d+-/.test(e))return we(_e);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function er(e,t,r){var n,o,s;r||(r={deterministic_revs:!0});var i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=Ve()),o=We(e,r.deterministic_revs),e._rev){if((s=Xt(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[o,i,[]]]]}],n=s.prefix+1}else e._rev_tree=[{pos:1,ids:[o,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,o=[n[0],t,[]],s=1,i=n.length;s<i;s++)o=[n[s],{status:"missing"},[o]];return[{pos:r,ids:o}]}(e._revisions,i),n=e._revisions.start,o=e._revisions.ids[0]),!e._rev_tree){if((s=Xt(e._rev)).error)return s;n=s.prefix,o=s.id,e._rev_tree=[{pos:n,ids:[o,i,[]]}]}Me(e._id),e._rev=n+"-"+o;var u={metadata:{},data:{}};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c="_"===a[0];if(c&&!Qt[a]){var l=we(fe,a);throw l.message=fe.message+": "+a,l}c&&!Yt[a]?u.metadata[a.slice(1)]=e[a]:u.data[a]=e[a]}return u}function tr(e,t,r){if(e.stub)return r();"string"==typeof e.data?function(e,t,r){var n=function(e){try{return De(e)}catch(e){return{error:we(de,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return r(n.error);e.length=n.length,e.data="blob"===t?Le(n,e.content_type):"base64"===t?ze(n):n,Ze(n,(function(t){e.digest="md5-"+t,r()}))}(e,t,r):function(e,t,r){Ze(e.data,(function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,"binary"===t?Be(e.data,(function(t){e.data=t,r()})):"base64"===t?Ue(e.data,(function(t){e.data=t,r()})):r()}))}(e,t,r)}function rr(e,t,r,n,o,s,i,u,a){e=e||1e3;var c=u.new_edits,l=new C,d=0,h=t.length;function f(){++d===h&&a&&a()}t.forEach((function(e,t){if(e._id&&dt(e._id)){var n=e._deleted?"_removeLocal":"_putLocal";r[n](e,{ctx:o},(function(e,r){s[t]=e||r,f()}))}else{var i=e.metadata.id;l.has(i)?(h--,l.get(i).push([e,t])):l.set(i,[[e,t]])}})),l.forEach((function(t,r){var o=0;function a(){++o<t.length?l():f()}function l(){var l=t[o],d=l[0],h=l[1];if(n.has(r))!function(e,t,r,n,o,s,i,u){if(function(e,t){for(var r,n=e.slice(),o=t.split("-"),s=parseInt(o[0],10),i=o[1];r=n.pop();){if(r.pos===s&&r.ids[0]===i)return!0;for(var u=r.ids[2],a=0,c=u.length;a<c;a++)n.push({pos:r.pos+1,ids:u[a]})}return!1}(t.rev_tree,r.metadata.rev)&&!u)return n[o]=r,s();var a=t.winningRev||He(t),c="deleted"in t?t.deleted:lt(t,a),l="deleted"in r.metadata?r.metadata.deleted:lt(r.metadata),d=/^1-/.test(r.metadata.rev);if(c&&!l&&u&&d){var h=r.data;h._rev=a,h._id=r.metadata.id,r=er(h,u)}var f=at(t.rev_tree,r.metadata.rev_tree[0],e);if(u&&(c&&l&&"new_leaf"!==f.conflicts||!c&&"new_leaf"!==f.conflicts||c&&!l&&"new_branch"===f.conflicts)){var p=we(ie);return n[o]=p,s()}var m=r.metadata.rev;r.metadata.rev_tree=f.tree,r.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var v=He(r.metadata),_=lt(r.metadata,v),g=c===_?0:c<_?-1:1;i(r,v,_,m===v?_:lt(r.metadata,m),!0,g,o,s)}(e,n.get(r),d,s,h,a,i,c);else{var f=at([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,r){var n=He(e.metadata),o=lt(e.metadata,n);if("was_delete"in u&&o)return s[t]=we(se,"deleted"),r();if(c&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var a=we(ie);return s[t]=a,r()}i(e,n,o,o,!1,o?0:1,t,r)}(d,h,a)}}l()}))}var nr="document-store",or="by-sequence",sr="attach-store",ir="attach-seq-store",ur="meta-store",ar="local-store",cr="detect-blob-support";function lr(e){try{return JSON.stringify(e)}catch(t){return O.stringify(e)}}function dr(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(we(ve,r,t.type))}}function hr(e,t,r){return{data:lr(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function fr(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return O.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function pr(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function mr(e,t,r,n){r?n(e?"string"!=typeof e?e:Ie(e,t):Ne([""],{type:t})):e?"string"!=typeof e?$e(e,(function(e){n(ze(e))})):n(e):n("")}function vr(e,t,r,n){var o=Object.keys(e._attachments||{});if(!o.length)return n&&n();var s=0;function i(){++s===o.length&&n&&n()}o.forEach((function(n){t.attachments&&t.include_docs?function(e,t){var n=e._attachments[t],o=n.digest;r.objectStore(sr).get(o).onsuccess=function(e){n.body=e.target.result.body,i()}}(e,n):(e._attachments[n].stub=!0,i())}))}function _r(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var r=Object.keys(e.doc._attachments);return Promise.all(r.map((function(r){var n=e.doc._attachments[r];if("body"in n){var o=n.body,s=n.content_type;return new Promise((function(i){mr(o,s,t,(function(t){e.doc._attachments[r]=re(K(n,["digest","content_type"]),{data:t}),i()}))}))}})))}})))}function gr(e,t,r){var n=[],o=r.objectStore(or),s=r.objectStore(sr),i=r.objectStore(ir),u=e.length;function a(){--u||n.length&&n.forEach((function(e){i.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}e.forEach((function(e){var r=o.index("_doc_id_rev"),s=t+"::"+e;r.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return a();o.delete(t),i.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];n.push(r),i.delete(t.primaryKey),t.continue()}else a()}}}))}function wr(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}var yr=new Y;function br(e,t,r,n,o,s){for(var i,u,a,c,l,d,h,f,p=t.docs,m=0,v=p.length;m<v;m++){var _=p[m];_._id&&dt(_._id)||(_=p[m]=er(_,r.new_edits,e)).error&&!h&&(h=_)}if(h)return s(h);var g=!1,w=0,y=new Array(p.length),b=new C,k=!1,M=n._meta.blobSupport?"blob":"base64";function T(){g=!0,A()}function A(){f&&g&&(f.docCount+=w,d.put(f))}function S(){k||(yr.notify(n._meta.name),s(null,y))}function j(e,t,r,n,o,s,i,u){e.metadata.winningRev=t,e.metadata.deleted=r;var a=e.data;if(a._id=e.metadata.id,a._rev=e.metadata.rev,n&&(a._deleted=!0),a._attachments&&Object.keys(a._attachments).length)return function(e,t,r,n,o,s){var i=e.data,u=0,a=Object.keys(i._attachments);function l(){u===a.length&&O(e,t,r,n,o,s)}function d(){u++,l()}a.forEach((function(r){var n=e.data._attachments[r];if(n.stub)u++,l();else{var o=n.data;delete n.data,n.revpos=parseInt(t,10),function(e,t,r){c.count(e).onsuccess=function(n){if(n.target.result)return r();var o={digest:e,body:t};c.put(o).onsuccess=r}}(n.digest,o,d)}}))}(e,t,r,o,i,u);w+=s,A(),O(e,t,r,o,i,u)}function O(e,t,r,o,s,c){var d=e.data,h=e.metadata;function f(s){var a=e.stemmedRevs||[];o&&n.auto_compaction&&(a=a.concat(function(e){var t=[];return Qe(e.rev_tree,(function(e,r,n,o,s){"available"!==s.status||e||(t.push(r+"-"+n),s.status="missing")})),t}(e.metadata))),a&&a.length&&gr(a,e.metadata.id,i),h.seq=s.target.result;var c=hr(h,t,r);u.put(c).onsuccess=p}function p(){y[s]={ok:!0,id:h.id,rev:h.rev},b.set(e.metadata.id,e.metadata),function(e,t,r){var n=0,o=Object.keys(e.data._attachments||{});if(!o.length)return r();function s(){++n===o.length&&r()}function i(r){var n=e.data._attachments[r].digest,o=l.put({seq:t,digestSeq:n+"::"+t});o.onsuccess=s,o.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var u=0;u<o.length;u++)i(o[u])}(e,h.seq,c)}d._doc_id_rev=h.id+"::"+h.rev,delete d._id,delete d._rev;var m=a.put(d);m.onsuccess=f,m.onerror=function(e){e.preventDefault(),e.stopPropagation(),a.index("_doc_id_rev").getKey(d._doc_id_rev).onsuccess=function(e){a.put(d,e.target.result).onsuccess=f}}}!function(e,t,r){if(!e.length)return r();var n,o=0;function s(){o++,e.length===o&&(n?r(n):r())}e.forEach((function(e){var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],o=0;if(!r.length)return s();function i(e){n=e,++o===r.length&&s()}for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&tr(e.data._attachments[u],t,i)}))}(p,M,(function(t){if(t)return s(t);!function(){var t=wr(o,[nr,or,sr,ar,ir,ur],"readwrite");if(t.error)return s(t.error);(i=t.txn).onabort=dr(s),i.ontimeout=dr(s),i.oncomplete=S,u=i.objectStore(nr),a=i.objectStore(or),c=i.objectStore(sr),l=i.objectStore(ir),(d=i.objectStore(ur)).get(ur).onsuccess=function(e){f=e.target.result,A()},function(e){var t=[];if(p.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(r){var n=e.data._attachments[r];n.stub&&t.push(n.digest)}))})),!t.length)return e();var r,n=0;t.forEach((function(o){!function(e,t){c.get(e).onsuccess=function(r){if(r.target.result)t();else{var n=we(ge,"unknown stub attachment with digest "+e);n.status=412,t(n)}}}(o,(function(o){o&&!r&&(r=o),++n===t.length&&e(r)}))}))}((function(t){if(t)return k=!0,s(t);!function(){if(p.length)for(var t=0,o=0,s=p.length;o<s;o++){var a=p[o];a._id&&dt(a._id)?c():u.get(a.metadata.id).onsuccess=l}function c(){++t===p.length&&rr(e.revs_limit,p,n,b,i,y,j,r,T)}function l(e){var t=fr(e.target.result);t&&b.set(t.id,t),c()}}()}))}()}))}function kr(e,t,r,n,o){var s,i,u;function a(e){i=e.target.result,s&&o(s,i,u)}function c(e){s=e.target.result,i&&o(s,i,u)}function l(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}-1===n&&(n=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r?(u={continue:function(){if(!s.length)return o();var r,u=s[s.length-1];if(t&&t.upper)try{r=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else r=IDBKeyRange.lowerBound(u,!0);t=r,s=null,i=null,e.getAll(t,n).onsuccess=a,e.getAllKeys(t,n).onsuccess=c}},e.getAll(t,n).onsuccess=a,e.getAllKeys(t,n).onsuccess=c):r?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}function Mr(e,t,r){var n,o,s="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,u="key"in e&&e.key,a="keys"in e&&e.keys,c=e.skip||0,l="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!a&&(o=(n=function(e,t,r,n,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(e){return{error:e}}return null}(s,i,d,u,e.descending))&&n.error)&&("DataError"!==o.name||0!==o.code))return r(we(ve,o.name,o.message));var h=[nr,or,ur];e.attachments&&h.push(sr);var f=wr(t,h,"readonly");if(f.error)return r(f.error);var p=f.txn;p.oncomplete=function(){e.attachments?_r(b,e.binary).then(A):A()},p.onabort=dr(r);var m,v,_=p.objectStore(nr),g=p.objectStore(or),w=p.objectStore(ur),y=g.index("_doc_id_rev"),b=[];function k(t,r){var n={id:r.id,key:r.id,value:{rev:t}};r.deleted?a&&(b.push(n),n.value.deleted=!0,n.doc=null):c--<=0&&(b.push(n),e.include_docs&&function(t,r,n){var o=t.id+"::"+n;y.get(o).onsuccess=function(n){if(r.doc=pr(n.target.result)||{},e.conflicts){var o=et(t);o.length&&(r.doc._conflicts=o)}vr(r.doc,e,p)}}(r,n,t))}function M(e){for(var t=0,r=e.length;t<r&&b.length!==l;t++){var n=e[t];if(n.error&&a)b.push(n);else{var o=fr(n);k(o.winningRev,o)}}}function T(e,t,r){r&&(M(t),b.length<l&&r.continue())}function A(){var t={total_rows:m,offset:e.skip,rows:b};e.update_seq&&void 0!==v&&(t.update_seq=v),r(null,t)}return w.get(ur).onsuccess=function(e){m=e.target.result.docCount},e.update_seq&&(g.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,r=void 0;return t&&t.key&&(r=t.key),function(e){e.target.result&&e.target.result.length>0&&(v=e.target.result[0])}({target:{result:[r]}})}),o||0===l?void 0:a?function(e,t,r){var n=new Array(e.length),o=0;e.forEach((function(s,i){t.get(s).onsuccess=function(t){t.target.result?n[i]=t.target.result:n[i]={key:s,error:"not_found"},++o===e.length&&r(e,n,{})}}))}(e.keys,_,T):-1===l?function(e,t,r){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(n.push(t.value),t.continue()):r({target:{result:n}})}}else e.getAll(t).onsuccess=r}(_,n,(function(t){var r=t.target.result;e.descending&&(r=r.reverse()),M(r)})):void kr(_,n,e.descending,l+c,T)}var Tr=!1,Ar=[];function Cr(){!Tr&&Ar.length&&(Tr=!0,Ar.shift()())}var Sr,jr=new C,Or=new C;function xr(e,t){var r=this;!function(t,n,o){Ar.push((function(){(function(e,t,r){var n=t.name,o=null;function s(e){var t=e.createObjectStore(nr,{keyPath:"id"});e.createObjectStore(or,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(sr,{keyPath:"digest"}),e.createObjectStore(ur,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(cr),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(ar,{keyPath:"_id"});var r=e.createObjectStore(ir,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}function i(e,t){var r=e.objectStore(nr);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var o=n.value,s=lt(o);o.deletedOrLocal=s?"1":"0",r.put(o),n.continue()}else t()}}function u(e){e.createObjectStore(ar,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var r=e.objectStore(ar),n=e.objectStore(nr),o=e.objectStore(or);n.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var i=s.value,u=i.id,a=dt(u),c=He(i);if(a){var l=u+"::"+c,d=u+"::",h=u+"::~",f=o.index("_doc_id_rev"),p=IDBKeyRange.bound(d,h,!1,!1),m=f.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===l&&r.put(t),o.delete(m.primaryKey),m.continue()}else n.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function c(e){var t=e.createObjectStore(ir,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function l(e,t){var r=e.objectStore(or),n=e.objectStore(sr),o=e.objectStore(ir);n.count().onsuccess=function(e){if(!e.target.result)return t();r.openCursor().onsuccess=function(e){var r=e.target.result;if(!r)return t();for(var n=r.value,s=r.primaryKey,i=Object.keys(n._attachments||{}),u={},a=0;a<i.length;a++)u[n._attachments[i[a]].digest]=!0;var c=Object.keys(u);for(a=0;a<c.length;a++){var l=c[a];o.put({seq:s,digestSeq:l+"::"+s})}r.continue()}}}function d(e){function t(e){return e.data?fr(e):(e.deleted="1"===e.deletedOrLocal,e)}var r=e.objectStore(or),n=e.objectStore(nr);n.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=t(o.value);if(s.winningRev=s.winningRev||He(s),s.seq)return u();i()}function i(){var e=s.id+"::",t=s.id+"::￿",n=r.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),o=0;n.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=o,u();var r=t.primaryKey;r>o&&(o=r),t.continue()}}function u(){var e=hr(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){o.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=J((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(r,n,s){br(t,r,n,e,o,s)},e._get=function(e,t,r){var n,s,i,u=t.ctx;if(!u){var a=wr(o,[nr,or,sr],"readonly");if(a.error)return r(a.error);u=a.txn}function c(){r(i,{doc:n,metadata:s,ctx:u})}u.objectStore(nr).get(e).onsuccess=function(e){if(!(s=fr(e.target.result)))return i=we(se,"missing"),c();var r;if(t.rev)r=t.latest?function(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var o=r.pos,s=r.ids,i=s[0],u=s[1],a=s[2],c=0===a.length,l=r.history?r.history.slice():[];if(l.push({id:i,pos:o,opts:u}),c)for(var d=0,h=l.length;d<h;d++){var f=l[d];if(f.pos+"-"+f.id===e)return o+"-"+i}for(var p=0,m=a.length;p<m;p++)n.push({pos:o+1,ids:a[p],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(r=s.winningRev,lt(s))return i=we(se,"deleted"),c();var o=u.objectStore(or),a=s.id+"::"+r;o.index("_doc_id_rev").get(a).onsuccess=function(e){if((n=e.target.result)&&(n=pr(n)),!n)return i=we(se,"missing"),c();c()}}},e._getAttachment=function(e,t,r,n,s){var i;if(n.ctx)i=n.ctx;else{var u=wr(o,[nr,or,sr],"readonly");if(u.error)return s(u.error);i=u.txn}var a=r.digest,c=r.content_type;i.objectStore(sr).get(a).onsuccess=function(e){mr(e.target.result.body,c,n.binary,(function(e){s(null,e)}))}},e._info=function(t){var r,n,s=wr(o,[ur,or],"readonly");if(s.error)return t(s.error);var i=s.txn;i.objectStore(ur).get(ur).onsuccess=function(e){n=e.target.result.docCount},i.objectStore(or).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:n,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){Mr(e,o,t)},e._changes=function(t){return function(e,t,r,n){if((e=F(e)).continuous){var o=r+":"+Ve();return yr.addListener(r,o,t,e),yr.notify(r),{cancel:function(){yr.removeListener(r,o)}}}var s=e.doc_ids&&new A(e.doc_ids);e.since=e.since||0;var i=e.since,u="limit"in e?e.limit:-1;0===u&&(u=1);var a,c,l,d,h=[],f=0,p=be(e),m=new C;function v(e,t,r,n){if(r.seq!==t)return n();if(r.winningRev===e._rev)return n(r,e);var o=e._id+"::"+r.winningRev;d.get(o).onsuccess=function(e){n(r,pr(e.target.result))}}function _(){e.complete(null,{results:h,last_seq:i})}var g=[nr,or];e.attachments&&g.push(sr);var w=wr(n,g,"readonly");if(w.error)return e.complete(w.error);(a=w.txn).onabort=dr(e.complete),a.oncomplete=function(){!e.continuous&&e.attachments?_r(h).then(_):_()},c=a.objectStore(or),l=a.objectStore(nr),d=c.index("_doc_id_rev"),kr(c,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,u,(function(t,r,n){if(n&&t.length){var o=new Array(t.length),c=new Array(t.length),d=0;r.forEach((function(r,i){!function(e,t,r){if(s&&!s.has(e._id))return r();var n=m.get(e._id);if(n)return v(e,t,n,r);l.get(e._id).onsuccess=function(o){n=fr(o.target.result),m.set(e._id,n),v(e,t,n,r)}}(pr(r),t[i],(function(r,s){c[i]=r,o[i]=s,++d===t.length&&function(){for(var t=[],r=0,s=o.length;r<s&&f!==u;r++){var i=o[r];if(i){var a=c[r];t.push(_(a,i))}}Promise.all(t).then((function(t){for(var r=0,n=t.length;r<n;r++)t[r]&&e.onChange(t[r])})).catch(e.complete),f!==u&&n.continue()}()}))}))}function _(t,r){var n=e.processChange(r,t,e);i=n.seq=t.seq;var o=p(n);return"object"==typeof o?Promise.reject(o):o?(f++,e.return_docs&&h.push(n),e.attachments&&e.include_docs?new Promise((function(t){vr(r,e,a,(function(){_r([n],e.binary).then((function(){t(n)}))}))})):Promise.resolve(n)):Promise.resolve()}}))}(t,e,n,o)},e._close=function(e){o.close(),jr.delete(n),e()},e._getRevisionTree=function(e,t){var r=wr(o,[nr],"readonly");if(r.error)return t(r.error);r.txn.objectStore(nr).get(e).onsuccess=function(e){var r=fr(e.target.result);r?t(null,r.rev_tree):t(we(se))}},e._doCompaction=function(e,t,r){var n=wr(o,[nr,or,sr,ir],"readwrite");if(n.error)return r(n.error);var s=n.txn;s.objectStore(nr).get(e).onsuccess=function(r){var n=fr(r.target.result);Qe(n.rev_tree,(function(e,r,n,o,s){var i=r+"-"+n;-1!==t.indexOf(i)&&(s.status="missing")})),gr(t,e,s);var o=n.winningRev,i=n.deleted;s.objectStore(nr).put(hr(n,o,i))},s.onabort=dr(r),s.oncomplete=function(){r()}},e._getLocal=function(e,t){var r=wr(o,[ar],"readonly");if(r.error)return t(r.error);var n=r.txn.objectStore(ar).get(e);n.onerror=dr(t),n.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(we(se))}},e._putLocal=function(e,t,r){"function"==typeof t&&(r=t,t={}),delete e._revisions;var n=e._rev,s=e._id;e._rev=n?"0-"+(parseInt(n.split("-")[1],10)+1):"0-1";var i,u=t.ctx;if(!u){var a=wr(o,[ar],"readwrite");if(a.error)return r(a.error);(u=a.txn).onerror=dr(r),u.oncomplete=function(){i&&r(null,i)}}var c,l=u.objectStore(ar);n?(c=l.get(s)).onsuccess=function(o){var s=o.target.result;s&&s._rev===n?l.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,i)}:r(we(ie))}:((c=l.add(e)).onerror=function(e){r(we(ie)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,i)})},e._removeLocal=function(e,t,r){"function"==typeof t&&(r=t,t={});var n,s=t.ctx;if(!s){var i=wr(o,[ar],"readwrite");if(i.error)return r(i.error);(s=i.txn).oncomplete=function(){n&&r(null,n)}}var u=e._id,a=s.objectStore(ar),c=a.get(u);c.onerror=dr(r),c.onsuccess=function(o){var s=o.target.result;s&&s._rev===e._rev?(a.delete(u),n={ok:!0,id:u,rev:"0-0"},t.ctx&&r(null,n)):r(we(se))}},e._destroy=function(e,t){yr.removeAllListeners(n);var r=Or.get(n);r&&r.result&&(r.result.close(),jr.delete(n));var o=indexedDB.deleteDatabase(n);o.onsuccess=function(){Or.delete(n),Q()&&n in localStorage&&delete localStorage[n],t(null,{ok:!0})},o.onerror=dr(t)};var h=jr.get(n);if(h)return o=h.idb,e._meta=h.global,k()((function(){r(null,e)}));var f=indexedDB.open(n,5);Or.set(n,f),f.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return s(t);var r=e.currentTarget.transaction;e.oldVersion<3&&u(t),e.oldVersion<4&&c(t);var n=[i,a,l,d],o=e.oldVersion;function h(){var e=n[o-1];o++,e&&e(r,h)}h()},f.onsuccess=function(t){(o=t.target.result).onversionchange=function(){o.close(),jr.delete(n)},o.onabort=function(e){X("error","Database has a global failure",e.target.error),o.close(),jr.delete(n)};var s,i,u,a,c=o.transaction([ur,cr,nr],"readwrite"),l=!1;function d(){void 0!==u&&l&&(e._meta={name:n,instanceId:a,blobSupport:u},jr.set(n,{idb:o,global:e._meta}),r(null,e))}function h(){if(void 0!==i&&void 0!==s){var e=n+"_id";e in s?a=s[e]:s[e]=a=Ve(),s.docCount=i,c.objectStore(ur).put(s)}}c.objectStore(ur).get(ur).onsuccess=function(e){s=e.target.result||{id:ur},h()},function(e,t){e.objectStore(nr).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(c,(function(e){i=e,h()})),Sr||(Sr=function(e){return new Promise((function(t){var r=Ne([""]),n=e.objectStore(cr).put(r,"key");n.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)},n.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(c)),Sr.then((function(e){u=e,d()})),c.oncomplete=function(){l=!0,d()},c.onabort=dr(r)},f.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",X("error",t),r(we(ve,t))}})(r,e,(function(e,t){!function(e,t,r,n){try{e(t,r)}catch(t){n.emit("error",t)}}(n,e,t,o),Tr=!1,k()((function(){Cr()}))}))})),Cr()}(0,t,r.constructor)}xr.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var Er=5e3,Pr={};function qr(e){var t=e.doc||e.ok,r=t&&t._attachments;r&&Object.keys(r).forEach((function(e){var t=r[e];t.data=Ie(t.data,t.content_type)}))}function Dr(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function zr(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var r=e._attachments[t];if(r.data&&"string"!=typeof r.data)return new Promise((function(e){Ue(r.data,e)})).then((function(e){r.data=e}))}))):Promise.resolve()}function Nr(e,t){return Rr(e,e.db+"/"+t)}function Rr(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function Lr(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function Ir(e,t){var r=this,n=function(e,t){if(function(e){if(!e.prefix)return!1;var t=Ee(e.prefix).protocol;return"http"===t||"https"===t}(t)){var r=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(r)}var n=Ee(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var o=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=o.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=o.join("/"),n}(e.name,e),o=Nr(n,"");e=F(e);var s,i=function(t,r){if((r=r||{}).headers=r.headers||new Mt,r.credentials="include",e.auth||n.auth){var o=e.auth||n.auth,s=o.username+":"+o.password,i=ze(unescape(encodeURIComponent(s)));r.headers.set("Authorization","Basic "+i)}var u=e.headers||{};return Object.keys(u).forEach((function(e){r.headers.append(e,u[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==t.indexOf("msie"),n=-1!==t.indexOf("trident"),o=-1!==t.indexOf("edge"),s=!("method"in e)||"GET"===e.method;return(r||n||o)&&s}(r)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||kt)(t,r)};function u(e,t){return Z(e,E()((function(e){c().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(r)}function a(e,t,r){var n={};return(t=t||{}).headers=t.headers||new Mt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),i(e,t).then((function(e){return n.ok=e.ok,n.status=e.status,e.json()})).then((function(e){if(n.data=e,!n.ok){n.data.status=n.status;var t=ye(n.data);if(r)return r(t);throw t}if(Array.isArray(n.data)&&(n.data=n.data.map((function(e){return e.error||e.missing?ye(e):e}))),!r)return n;r(null,n.data)}))}function c(){return e.skip_setup?Promise.resolve():s||((s=a(o).catch((function(e){return e&&e.status&&404===e.status?(te(404,"PouchDB is just detecting if the remote exists."),a(o,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){s=null})),s)}function l(e){return e.split("/").map(encodeURIComponent).join("/")}k()((function(){t(null,r)})),r._remote=!0,r.type=function(){return"http"},r.id=u("id",(function(e){i(Rr(n,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var r=t&&t.uuid?t.uuid+n.db:Nr(n,"");e(null,r)}))})),r.compact=u("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=F(e),a(Nr(n,"_compact"),{method:"POST"}).then((function(){!function n(){r.info((function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),r.bulkGet=Z("bulkGet",(function(e,t){var r=this;function o(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),a(Nr(n,"_bulk_get"+Lr(r)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(r){e.attachments&&e.binary&&r.data.results.forEach((function(e){e.docs.forEach(qr)})),t(null,r.data)})).catch(t)}function s(){var n=Math.ceil(e.docs.length/50),o=0,s=new Array(n);function i(e){return function(r,i){s[e]=i.results,++o===n&&t(null,{results:ke(s)})}}for(var u=0;u<n;u++){var a=K(e,["revs","attachments","binary","latest"]);a.docs=e.docs.slice(50*u,Math.min(e.docs.length,50*(u+1))),H(r,a,i(u))}}var i=Rr(n,""),u=Pr[i];"boolean"!=typeof u?o((function(e,r){e?(Pr[i]=!1,te(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(Pr[i]=!0,t(null,r))})):u?o(t):s()})),r._info=function(e){c().then((function(){return i(Nr(n,""))})).then((function(e){return e.json()})).then((function(t){t.host=Nr(n,""),e(null,t)})).catch(e)},r.fetch=function(e,t){return c().then((function(){var r="/"===e.substring(0,1)?Rr(n,e.substring(1)):Nr(n,e);return i(r,t)}))},r.get=u("get",(function(e,t,r){"function"==typeof t&&(r=t,t={});var o={};function s(e){var r,o=e._attachments,s=o&&Object.keys(o);if(o&&s.length)return r=s.map((function(r){return function(){return function(r){var s=o[r],u=Dr(e._id)+"/"+l(r)+"?rev="+e._rev;return i(Nr(n,u)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var r=Object.getOwnPropertyDescriptor(e.__proto__,"type");return r&&!r.set||(e.type=s.content_type),e}return new Promise((function(t){Ue(e,t)}))})).then((function(e){delete s.stub,delete s.length,s.data=e}))}(r)}})),new Promise((function(e,t){var n,o=0,s=0,i=0,u=r.length;function a(){++i===u?n?t(n):e():d()}function c(){o--,a()}function l(e){o--,n=n||e,a()}function d(){for(;o<5&&s<u;)o++,r[s++]().then(c,l)}d()}))}(t=F(t)).revs&&(o.revs=!0),t.revs_info&&(o.revs_info=!0),t.latest&&(o.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),o.open_revs=t.open_revs),t.rev&&(o.rev=t.rev),t.conflicts&&(o.conflicts=t.conflicts),t.update_seq&&(o.update_seq=t.update_seq),e=Dr(e),a(Nr(n,e+Lr(o))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return r=e.data,Array.isArray(r)?Promise.all(r.map((function(e){if(e.ok)return s(e.ok)}))):s(r);var r})).then((function(){r(null,e.data)}))})).catch((function(t){t.docId=e,r(t)}))})),r.remove=u("remove",(function(e,t,r,o){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(s=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var i=s._rev||r.rev;a(Nr(n,Dr(s._id))+"?rev="+i,{method:"DELETE"},o).catch(o)})),r.getAttachment=u("getAttachment",(function(e,t,r,o){"function"==typeof r&&(o=r,r={});var s,u=r.rev?"?rev="+r.rev:"",a=Nr(n,Dr(e))+"/"+l(t)+u;i(a,{method:"GET"}).then((function(e){if(s=e.headers.get("content-type"),e.ok)return"undefined"==typeof process||process.browser||"function"!=typeof e.buffer?e.blob():e.buffer();throw e})).then((function(e){"undefined"==typeof process||process.browser||(e.type=s),o(null,e)})).catch((function(e){o(e)}))})),r.removeAttachment=u("removeAttachment",(function(e,t,r,o){a(Nr(n,Dr(e)+"/"+l(t))+"?rev="+r,{method:"DELETE"},o).catch(o)})),r.putAttachment=u("putAttachment",(function(e,t,r,o,s,i){"function"==typeof s&&(i=s,s=o,o=r,r=null);var u=Dr(e)+"/"+l(t),c=Nr(n,u);if(r&&(c+="?rev="+r),"string"==typeof o){var d;try{d=De(o)}catch(e){return i(we(de,"Attachment is not a valid base64 string"))}o=d?Le(d,s):""}a(c,{headers:new Mt({"Content-Type":s}),method:"PUT",body:o},i).catch(i)})),r._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,c().then((function(){return Promise.all(e.docs.map(zr))})).then((function(){return a(Nr(n,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},r)})).catch(r)},r._put=function(e,t,r){c().then((function(){return zr(e)})).then((function(){return a(Nr(n,Dr(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){r(null,e.data)})).catch((function(t){t.docId=e&&e._id,r(t)}))},r.allDocs=u("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var r,o={},s="GET";(e=F(e)).conflicts&&(o.conflicts=!0),e.update_seq&&(o.update_seq=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(o.limit=e.limit),void 0!==e.skip&&(o.skip=e.skip);var i=Lr(o);void 0!==e.keys&&(s="POST",r={keys:e.keys}),a(Nr(n,"_all_docs"+i),{method:s,body:JSON.stringify(r)}).then((function(r){e.include_docs&&e.attachments&&e.binary&&r.data.rows.forEach(qr),t(null,r.data)})).catch(t)})),r._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=F(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var r="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&r-e.timeout<Er&&(r=e.timeout+Er),"heartbeat"in e&&e.heartbeat&&r-e.heartbeat<Er&&(r=e.heartbeat+Er);var o={};"timeout"in e&&e.timeout&&(o.timeout=e.timeout);var s=void 0!==e.limit&&e.limit,i=s;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.seq_interval&&(o.seq_interval=e.seq_interval),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.update_seq&&(o.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(o.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var u in e.query_params)e.query_params.hasOwnProperty(u)&&(o[u]=e.query_params[u]);var l,d="GET";e.doc_ids?(o.filter="_doc_ids",d="POST",l={doc_ids:e.doc_ids}):e.selector&&(o.filter="_selector",d="POST",l={selector:e.selector});var h,f=new bt,p=function(r,u){if(!e.aborted){o.since=r,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?s&&(o.limit=i):o.limit=!s||i>t?t:i;var p=Nr(n,"_changes"+Lr(o)),m={signal:f.signal,method:d,body:JSON.stringify(l)};h=r,e.aborted||c().then((function(){return a(p,m,u)})).catch(u)}},m={results:[]},v=function(r,n){if(!e.aborted){var o=0;if(n&&n.results){o=n.results.length,m.last_seq=n.last_seq;var u=null,a=null;"number"==typeof n.pending&&(u=n.pending),"string"!=typeof m.last_seq&&"number"!=typeof m.last_seq||(a=m.last_seq),e.query_params,n.results=n.results.filter((function(t){i--;var r=be(e)(t);return r&&(e.include_docs&&e.attachments&&e.binary&&qr(t),e.return_docs&&m.results.push(t),e.onChange(t,u,a)),r}))}else if(r)return e.aborted=!0,void e.complete(r);n&&n.last_seq&&(h=n.last_seq);var c=s&&i<=0||n&&o<t||e.descending;(!e.continuous||s&&i<=0)&&c?e.complete(null,m):k()((function(){p(h,v)}))}};return p(e.since||0,v),{cancel:function(){e.aborted=!0,f.abort()}}},r.revsDiff=u("revsDiff",(function(e,t,r){"function"==typeof t&&(r=t,t={}),a(Nr(n,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},r).catch(r)})),r._close=function(e){e()},r._destroy=function(e,t){a(Nr(n,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function $r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,$r)}catch(e){}}function Br(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Br)}catch(e){}}function Ur(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ur)}catch(e){}}function Fr(e,t){return t&&e.then((function(e){k()((function(){t(null,e)}))}),(function(e){k()((function(){t(e)}))})),e}function Gr(e,t){return function(){var r=arguments,n=this;return e.add((function(){return t.apply(n,r)}))}}function Jr(e){var t=new A(e),r=new Array(t.size),n=-1;return t.forEach((function(e){r[++n]=e})),r}function Zr(e){var t=new Array(e.size),r=-1;return e.forEach((function(e,n){t[++r]=n})),t}function Kr(e){return new Ur("builtin "+e+" function requires map values to be numbers or number arrays")}function Wr(e){for(var t=0,r=0,n=e.length;r<n;r++){var o=e[r];if("number"!=typeof o){if(!Array.isArray(o))throw Kr("_sum");t="number"==typeof t?[t]:t;for(var s=0,i=o.length;s<i;s++){var u=o[s];if("number"!=typeof u)throw Kr("_sum");void 0===t[s]?t.push(u):t[s]+=u}}else"number"==typeof t?t+=o:t[0]+=o}return t}Ir.valid=function(){return!0},q()($r,Error),q()(Br,Error),q()(Ur,Error);var Vr=X.bind(null,"log"),Hr=Array.isArray,Qr=JSON.parse;function Yr(e,t){return Pe("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Wr,log:Vr,isArray:Hr,toJSON:Qr})}function Xr(){this.promise=new Promise((function(e){e()}))}function en(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function tn(e,t,r,n,o,s){var i,u=function(e,t){return en(e)+en(t)+"undefined"}(r,n);if(!o&&(i=e._cachedViews=e._cachedViews||{})[u])return i[u];var a=e.info().then((function(a){var c=a.db_name+"-mrview-"+(o?"temp":Ke(u));return qe(e,"_local/"+s,(function(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var n=e.views[r]=e.views[r]||{};if(!n[c])return n[c]=!0,e})).then((function(){return e.registerDependentDatabase(c).then((function(t){var o=t.db;o.auto_compaction=!0;var s={name:c,db:o,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return s.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return s.seq=e?e.seq:0,i&&s.db.once("destroyed",(function(){delete i[u]})),s}))}))}))}));return i&&(i[u]=a),a}Xr.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Xr.prototype.finish=function(){return this.promise};var rn={},nn=new Xr;function on(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function sn(e,t){try{e.emit("error",t)}catch(e){X("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),X("error",t)}}var un=function(e,t){return Wr(t)},an=function(e,t){return t.length},cn=function(e,t){return{sum:Wr(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,r=0,n=e.length;r<n;r++){var o=e[r];t+=o*o}return t}(t)}},ln=function(e,t,r,n){function o(e,t,r){try{t(r)}catch(t){sn(e,t)}}function s(e,t,r,n,o){try{return{output:t(r,n,o)}}catch(t){return sn(e,t),{error:t}}}function i(e,t){var r=Dt(e.key,t.key);return 0!==r?r:Dt(e.value,t.value)}function u(e,t,r){return r=r||0,"number"==typeof t?e.slice(r,t+r):r>0?e.slice(r):e}function a(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function c(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var r=t[e];t[e].data=Ie(r.data,r.content_type)}))}))}(t),t}}function l(e,t,r,n){var o=t[e];void 0!==o&&(n&&(o=encodeURIComponent(JSON.stringify(o))),r.push(e+"="+o))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e,t){var r=e.descending?"endkey":"startkey",n=e.descending?"startkey":"endkey";if(void 0!==e[r]&&void 0!==e[n]&&Dt(e[r],e[n])>0)throw new $r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new $r("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new $r("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var r=function(e){if(e){if("number"!=typeof e)return new $r('Invalid value for integer: "'+e+'"');if(e<0)return new $r('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(r)throw r}))}function f(e){return function(t){if(404===t.status)return e;throw t}}function p(e){var t="string"==typeof e?e:e.name,r=rn[t];return r||(r=rn[t]=new Xr),r}function m(e){return Gr(p(e),(function(){return function(e){var t,r;var n=function(e,t){if("function"==typeof e&&2===e.length){var r=e;return function(e){return r(e,t)}}return Yr(e.toString(),t)}(e.mapFun,(function(e,n){var o={id:r._id,key:zt(e)};null!=n&&(o.value=zt(n)),t.push(o)})),s=e.seq||0;function u(t,r){return function(){return function(e,t,r){var n="_local/lastSeq";return e.db.get(n).catch(f({_id:n,seq:0})).then((function(n){var o=Zr(t);return Promise.all(o.map((function(r){return function(e,t,r){var n="_local/doc_"+e,o={_id:n,keys:[]},s=r.get(e),i=s[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(s[1])?Promise.resolve(o):t.db.get(n).catch(f(o))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var r=[],n=new A,o=0,s=t.rows.length;o<s;o++){var u=t.rows[o].doc;if(u&&(r.push(u),n.add(u._id),u._deleted=!i.has(u._id),!u._deleted)){var a=i.get(u._id);"value"in a&&(u.value=a.value)}}var c=Zr(i);return c.forEach((function(e){if(!n.has(e)){var t={_id:e},o=i.get(e);"value"in o&&(t.value=o.value),r.push(t)}})),e.keys=Jr(c.concat(e.keys)),r.push(e),r}(e,t)}))}))}(r,e,t)}))).then((function(t){var o=ke(t);return n.seq=r,o.push(n),e.db.bulkDocs({docs:o})}))}))}(e,t,r)}}var a=new Xr;function c(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:50}).then(l)}function l(l){var h=l.results;if(h.length){var f=function(u){for(var a=new C,c=0,l=u.length;c<l;c++){var h=u[c];if("_"!==h.doc._id[0]){t=[],(r=h.doc)._deleted||o(e.sourceDB,n,r),t.sort(i);var f=d(t);a.set(h.doc._id,[f,h.changes])}s=h.seq}return a}(h);if(a.add(u(f,s)),!(h.length<50))return c()}}function d(e){for(var t,r=new C,n=0,o=e.length;n<o;n++){var s=e[n],i=[s.key,s.id];n>0&&0===Dt(s.key,t)&&i.push(n),r.set(Nt(i),s),t=s.key}return r}return c().then((function(){return a.finish()})).then((function(){e.seq=s}))}(e)}))()}function v(e,t){return Gr(p(e),(function(){return function(e,t){var r,n=e.reduceFun&&!1!==t.reduce,o=t.skip||0;function i(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return r=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var n=function(e){for(var t=[],r=[],n=0;;){var o=e[n++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var s=Rt(e,n);t.push(s.num),n+=s.length;break;case"4":for(var i="";;){var u=e[n];if("\0"===u)break;i+=u,n++}i=i.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(i);break;case"5":var a={element:[],index:t.length};t.push(a.element),r.push(a);break;case"6":var c={element:{},index:t.length};t.push(c.element),r.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();Lt(t,r)}}}(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}}))}))}function c(i){var c;if(c=n?function(e,t,r){0===r.group_level&&delete r.group_level;var n=r.group||r.group_level,o=function(e){var t=e.toString();return function(e){if(/^_sum/.test(e))return un;if(/^_count/.test(e))return an;if(/^_stats/.test(e))return cn;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t)||Yr(t)}(e.reduceFun),i=[],a=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach((function(e){var t=i[i.length-1],r=n?e.key:null;if(n&&Array.isArray(r)&&(r=r.slice(0,a)),t&&0===Dt(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})})),t=[];for(var c=0,l=i.length;c<l;c++){var d=i[c],h=s(e.sourceDB,o,d.keys,d.values,!1);if(h.error&&h.error instanceof Ur)throw h.error;t.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:u(t,r.limit,r.skip)}}(e,i,t):{total_rows:r,offset:o,rows:i},t.update_seq&&(c.update_seq=e.seq),t.include_docs){var l=Jr(i.map(a));return e.sourceDB.allDocs({keys:l,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new C;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),i.forEach((function(e){var r=a(e),n=t.get(r);n&&(e.doc=n)})),c}))}return c}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var l=t.keys.map((function(e){var r={startkey:Nt([e]),endkey:Nt([e,{}])};return t.update_seq&&(r.update_seq=!0),i(r)}));return Promise.all(l).then(ke).then(c)}var d,h,f={descending:t.descending};if(t.update_seq&&(f.update_seq=!0),"start_key"in t&&(d=t.start_key),"startkey"in t&&(d=t.startkey),"end_key"in t&&(h=t.end_key),"endkey"in t&&(h=t.endkey),void 0!==d&&(f.startkey=t.descending?Nt([d,{}]):Nt([d])),void 0!==h){var p=!1!==t.inclusive_end;t.descending&&(p=!p),f.endkey=Nt(p?[h,{}]:[h])}if(void 0!==t.key){var m=Nt([t.key]),v=Nt([t.key,{}]);f.descending?(f.endkey=m,f.startkey=v):(f.startkey=m,f.endkey=v)}return n||("number"==typeof t.limit&&(f.limit=t.limit),f.skip=o),i(f).then(c)}(e,t)}))()}function _(t,r,n){if("function"==typeof t._query)return function(e,t,r){return new Promise((function(n,o){e._query(t,r,(function(e,t){if(e)return o(e);n(t)}))}))}(t,r,n);if(Te(t))return function(e,t,r){var n,o,s,i=[],u="GET";if(l("reduce",r,i),l("include_docs",r,i),l("attachments",r,i),l("limit",r,i),l("descending",r,i),l("group",r,i),l("group_level",r,i),l("skip",r,i),l("stale",r,i),l("conflicts",r,i),l("startkey",r,i,!0),l("start_key",r,i,!0),l("endkey",r,i,!0),l("end_key",r,i,!0),l("inclusive_end",r,i),l("key",r,i,!0),l("update_seq",r,i),i=""===(i=i.join("&"))?"":"?"+i,void 0!==r.keys){var a="keys="+encodeURIComponent(JSON.stringify(r.keys));a.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+a:(u="POST","string"==typeof t?n={keys:r.keys}:t.keys=r.keys)}if("string"==typeof t){var d=on(t);return e.fetch("_design/"+d[0]+"/_view/"+d[1]+i,{headers:new Mt({"Content-Type":"application/json"}),method:u,body:JSON.stringify(n)}).then((function(e){return o=e.ok,s=e.status,e.json()})).then((function(e){if(!o)throw e.status=s,ye(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(c(r))}return n=n||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString()})),e.fetch("_temp_view"+i,{headers:new Mt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(n)}).then((function(e){return o=e.ok,s=e.status,e.json()})).then((function(e){if(!o)throw e.status=s,ye(e);return e})).then(c(r))}(t,r,n);if("string"!=typeof r)return h(n,r),nn.add((function(){return tn(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then((function(e){return t=m(e).then((function(){return v(e,n)})),r=function(){return e.db.destroy()},t.then((function(e){return r().then((function(){return e}))}),(function(e){return r().then((function(){throw e}))}));var t,r}))})),nn.finish();var o=r,s=on(o),i=s[0],u=s[1];return t.get("_design/"+i).then((function(r){var s=r.views&&r.views[u];if(!s)throw new Br("ddoc "+r._id+" has no view named "+u);return function(e,t){var r=e.views&&e.views[t];if("string"!=typeof r.map)throw new Br("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)}(r,u),h(n,s),tn(t,o,s.map,s.reduce,!1,e).then((function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&k()((function(){m(e)})),v(e,n)):m(e).then((function(){return v(e,n)}))}))}))}var g;return{query:function(e,t,r){var n=this;"function"==typeof t&&(r=t,t={}),t=t?function(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var o=Promise.resolve().then((function(){return _(n,e,t)}));return Fr(o,r),o},viewCleanup:(g=function(){var e=this;return"function"==typeof e._viewCleanup?function(e){return new Promise((function(t,r){e._viewCleanup((function(e,n){if(e)return r(e);t(n)}))}))}(e):Te(e)?function(e){return e.fetch("_view_cleanup",{headers:new Mt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(e):function(e){return e.get("_local/mrviews").then((function(t){var r=new C;Object.keys(t.views).forEach((function(e){var t=on(e),n="_design/"+t[0],o=t[1],s=r.get(n);s||(s=new A,r.set(n,s)),s.add(o)}));var n={keys:Zr(r),include_docs:!0};return e.allDocs(n).then((function(n){var o={};n.rows.forEach((function(e){var n=e.key.substring(8);r.get(e.key).forEach((function(r){var s=n+"/"+r;t.views[s]||(s=r);var i=Object.keys(t.views[s]),u=e.doc&&e.doc.views&&e.doc.views[r];i.forEach((function(e){o[e]=o[e]||u}))}))}));var s=Object.keys(o).filter((function(e){return!o[e]})).map((function(t){return Gr(p(t),(function(){return new e.constructor(t,e.__opts).destroy()}))()}));return Promise.all(s).then((function(){return{ok:!0}}))}))}),f({ok:!0}))}(e)},E()((function(e){var t=e.pop(),r=g.apply(this,e);return"function"==typeof t&&Fr(r,t),r})))}}("mrviews"),dn={query:function(e,t,r){return ln.query.call(this,e,t,r)},viewCleanup:function(e){return ln.viewCleanup.call(this,e)}};function hn(e){return/^1-/.test(e)}function fn(e,t){var r=Object.keys(t._attachments);return Promise.all(r.map((function(r){return e.getAttachment(t._id,r,{rev:t._rev})})))}function pn(e,t,r,n){r=F(r);var o=[],s=!0;return Promise.resolve().then((function(){var t=Object.keys(r).filter((function(e){var t=r[e].missing;return 1===t.length&&hn(t[0])}));if(t.length>0)return function(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(n.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!hn(e.value.rev)||(t=e.doc)._attachments&&Object.keys(t._attachments).length>0||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,o.push(e.doc),delete r[e.id])}))}))}(t)})).then((function(){var i=function(e){var t=[];return Object.keys(e).forEach((function(r){e[r].missing.forEach((function(e){t.push({id:r,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(r);if(i.docs.length)return e.bulkGet(i).then((function(r){if(n.cancelled)throw new Error("cancelled");return Promise.all(r.results.map((function(r){return Promise.all(r.docs.map((function(r){var n=r.ok;return r.error&&(s=!1),n&&n._attachments?function(e,t,r){var n=Te(t)&&!Te(e),o=Object.keys(r._attachments);return n?e.get(r._id).then((function(n){return Promise.all(o.map((function(o){return function(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==t._attachments[r].digest}(n,r,o)?t.getAttachment(r._id,o):e.getAttachment(n._id,o)})))})).catch((function(e){if(404!==e.status)throw e;return fn(t,r)})):fn(t,r)}(t,e,n).then((function(e){var t=Object.keys(n._attachments);return e.forEach((function(e,r){var o=n._attachments[t[r]];delete o.stub,delete o.length,o.data=e})),n})):n})))}))).then((function(e){o=o.concat(ke(e).filter(Boolean))}))}))})).then((function(){return{ok:s,docs:o}}))}var mn="pouchdb";function vn(e,t,r,n,o){return e.get(t).catch((function(r){if(404===r.status)return"http"!==e.adapter&&"https"!==e.adapter||te(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:mn,version:1};throw r})).then((function(s){if(!o.cancelled&&s.last_seq!==r)return s.history=(s.history||[]).filter((function(e){return e.session_id!==n})),s.history.unshift({last_seq:r,session_id:n}),s.history=s.history.slice(0,5),s.version=1,s.replicator=mn,s.session_id=n,s.last_seq=r,e.put(s).catch((function(s){if(409===s.status)return vn(e,t,r,n,o);throw s}))}))}function _n(e,t,r,n,o){this.src=e,this.target=t,this.id=r,this.returnValue=n,this.opts=o||{}}_n.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then((function(){return r.updateSource(e,t)}))},_n.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?vn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},_n.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var r=this;return vn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(bn(e))return r.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var gn={undefined:function(e,t){return 0===Dt(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return(r=t,n=e,r.session_id===n.session_id?{last_seq:r.last_seq,history:r.history}:wn(r.history,n.history)).last_seq;var r,n}};function wn(e,t){var r=e[0],n=e.slice(1),o=t[0],s=t.slice(1);return r&&0!==t.length?yn(r.session_id,t)?{last_seq:r.last_seq,history:e}:yn(o.session_id,n)?{last_seq:o.last_seq,history:s}:wn(n,s):{last_seq:0,history:[]}}function yn(e,t){var r=t[0],n=t.slice(1);return!(!e||0===t.length)&&(e===r.session_id||yn(e,n))}function bn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function kn(e,t,r,n,o){var s,i,u,a=[],c={seq:0,changes:[],docs:[]},l=!1,d=!1,h=!1,f=0,p=r.continuous||r.live||!1,m=r.batch_size||100,v=r.batches_limit||10,_=!1,g=r.doc_ids,w=r.selector,y=[],b=Ve();o=o||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var M={};function T(){return u?Promise.resolve():function(e,t,r){var n=r.doc_ids?r.doc_ids.sort(Dt):"",o=r.filter?r.filter.toString():"",s="",i="",u="";return r.selector&&(u=JSON.stringify(r.selector)),r.filter&&r.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(Dt).reduce((function(t,r){return t[r]=e[r],t}),{})}(r.query_params))),r.filter&&"_view"===r.filter&&(i=r.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+o+i+s+n+u;return new Promise((function(e){Ze(t,e)}))})).then((function(e){return"_local/"+e.replace(/\//g,".").replace(/\+/g,"_")}))}(e,t,r).then((function(o){i=o;var s;s=!1===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===r.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},u=new _n(e,t,i,n,s)}))}function A(){if(y=[],0!==s.docs.length){var e=s.docs,i={timeout:r.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then((function(t){if(n.cancelled)throw E(),new Error("cancelled");var r=Object.create(null);t.forEach((function(e){e.error&&(r[e.id]=e)}));var s=Object.keys(r).length;o.doc_write_failures+=s,o.docs_written+=e.length-s,e.forEach((function(e){var t=r[e._id];if(t){o.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;n.emit("denied",F(t))}else y.push(e)}))}),(function(t){throw o.doc_write_failures+=e.length,t}))}}function C(){if(s.error)throw new Error("There was a problem getting docs.");o.last_seq=f=s.seq;var e=F(o);return y.length&&(e.docs=y,"number"==typeof s.pending&&(e.pending=s.pending,delete s.pending),n.emit("change",e)),l=!0,u.writeCheckpoint(s.seq,b).then((function(){if(l=!1,n.cancelled)throw E(),new Error("cancelled");s=void 0,z()})).catch((function(e){throw R(e),e}))}function S(){return pn(e,t,s.diffs,n).then((function(e){s.error=!e.ok,e.docs.forEach((function(e){delete s.diffs[e._id],o.docs_read++,s.docs.push(e)}))}))}function j(){var e;n.cancelled||s||(0!==a.length?(s=a.shift(),(e={},s.changes.forEach((function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(n.cancelled)throw E(),new Error("cancelled");s.diffs=e}))).then(S).then(A).then(C).then(j).catch((function(e){x("batch processing terminated with error",e)}))):O(!0))}function O(e){0!==c.changes.length?(e||d||c.changes.length>=m)&&(a.push(c),c={seq:0,changes:[],docs:[]},"pending"!==n.state&&"stopped"!==n.state||(n.state="active",n.emit("active")),j()):0!==a.length||s||((p&&M.live||d)&&(n.state="pending",n.emit("paused")),d&&E())}function x(e,t){h||(t.message||(t.message=e),o.ok=!1,o.status="aborting",a=[],c={seq:0,changes:[],docs:[]},E(t))}function E(s){if(!(h||n.cancelled&&(o.status="cancelled",l)))if(o.status=o.status||"complete",o.end_time=(new Date).toISOString(),o.last_seq=f,h=!0,s){(s=we(s)).result=o;var i=(s.name||"").toLowerCase();"unauthorized"===i||"forbidden"===i?(n.emit("error",s),n.removeAllListeners()):function(e,t,r,n){if(!1===e.retry)return t.emit("error",r),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=ee),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var o=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",o)})),t.once("active",o)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}(r,n,s,(function(){kn(e,t,r,n)}))}else n.emit("complete",o),n.removeAllListeners()}function P(e,t,o){if(n.cancelled)return E();"number"==typeof t&&(c.pending=t),be(r)(e)&&(c.seq=e.seq||o,c.changes.push(e),k()((function(){O(0===a.length&&M.live)})))}function q(e){if(_=!1,n.cancelled)return E();if(e.results.length>0)M.since=e.results[e.results.length-1].seq,z(),O(!0);else{var t=function(){p?(M.live=!0,z()):d=!0,O(!0)};s||0!==e.results.length?t():(l=!0,u.writeCheckpoint(e.last_seq,b).then((function(){l=!1,o.last_seq=f=e.last_seq,t()})).catch(R))}}function D(e){if(_=!1,n.cancelled)return E();x("changes rejected",e)}function z(){if(!_&&!d&&a.length<v){_=!0,n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",o);var t=e.changes(M).on("change",P);t.then(s,s),t.then(q).catch(D),r.retry&&(n._changes=t,n._abortChanges=o)}function o(){t.cancel()}function s(){n.removeListener("cancel",o)}}function N(){T().then((function(){if(!n.cancelled)return u.getCheckpoint().then((function(e){M={since:f=e,limit:m,batch_size:m,style:"all_docs",doc_ids:g,selector:w,return_docs:!0},r.filter&&("string"!=typeof r.filter?M.include_docs=!0:M.filter=r.filter),"heartbeat"in r&&(M.heartbeat=r.heartbeat),"timeout"in r&&(M.timeout=r.timeout),r.query_params&&(M.query_params=r.query_params),r.view&&(M.view=r.view),z()}));E()})).catch((function(e){x("getCheckpoint rejected with ",e)}))}function R(e){l=!1,x("writeCheckpoint completed with error",e)}n.ready(e,t),n.cancelled?E():(n._addedListeners||(n.once("cancel",E),"function"==typeof r.complete&&(n.once("error",r.complete),n.once("complete",(function(e){r.complete(null,e)}))),n._addedListeners=!0),void 0===r.since?N():T().then((function(){return l=!0,u.writeCheckpoint(r.since,b)})).then((function(){l=!1,n.cancelled?E():(f=r.since,N())})).catch(R))}function Mn(){z().call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,r){e.once("complete",t),e.once("error",r)}));e.then=function(e,r){return t.then(e,r)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function Tn(e,t){var r=t.PouchConstructor;return"string"==typeof e?new r(e,t):e}function An(e,t,r,n){if("function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw we(pe,"`doc_ids` filter parameter is not a list.");r.complete=n,(r=F(r)).continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var o=new Mn(r);return kn(Tn(e,r),Tn(t,r),r,o),o}function Cn(e,t,r,n){return"function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),(r=F(r)).PouchConstructor=r.PouchConstructor||this,new Sn(e=Tn(e,r),t=Tn(t,r),r,n)}function Sn(e,t,r,n){var o=this;this.canceled=!1;var s=r.push?re({},r,r.push):r,i=r.pull?re({},r,r.pull):r;function u(e){o.emit("change",{direction:"pull",change:e})}function a(e){o.emit("change",{direction:"push",change:e})}function c(e){o.emit("denied",{direction:"push",doc:e})}function l(e){o.emit("denied",{direction:"pull",doc:e})}function d(){o.pushPaused=!0,o.pullPaused&&o.emit("paused")}function h(){o.pullPaused=!0,o.pushPaused&&o.emit("paused")}function f(){o.pushPaused=!1,o.pullPaused&&o.emit("active",{direction:"push"})}function p(){o.pullPaused=!1,o.pushPaused&&o.emit("active",{direction:"pull"})}this.push=An(e,t,s),this.pull=An(t,e,i),this.pushPaused=!0,this.pullPaused=!0;var m={};function v(e){return function(t,r){("change"===t&&(r===u||r===a)||"denied"===t&&(r===l||r===c)||"paused"===t&&(r===h||r===d)||"active"===t&&(r===p||r===f))&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&o.removeAllListeners(t))}}function _(e,t,r){-1==e.listeners(t).indexOf(r)&&e.on(t,r)}r.live&&(this.push.on("complete",o.pull.cancel.bind(o.pull)),this.pull.on("complete",o.push.cancel.bind(o.push))),this.on("newListener",(function(e){"change"===e?(_(o.pull,"change",u),_(o.push,"change",a)):"denied"===e?(_(o.pull,"denied",l),_(o.push,"denied",c)):"active"===e?(_(o.pull,"active",p),_(o.push,"active",f)):"paused"===e&&(_(o.pull,"paused",h),_(o.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(o.pull.removeListener("change",u),o.push.removeListener("change",a)):"denied"===e?(o.pull.removeListener("denied",l),o.push.removeListener("denied",c)):"active"===e?(o.pull.removeListener("active",p),o.push.removeListener("active",f)):"paused"===e&&(o.pull.removeListener("paused",h),o.push.removeListener("paused",d))})),this.pull.on("removeListener",v("pull")),this.push.on("removeListener",v("push"));var g=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return o.emit("complete",t),n&&n(null,t),o.removeAllListeners(),t}),(function(e){if(o.cancel(),n?n(e):o.emit("error",e),o.removeAllListeners(),n)throw e}));this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}_n.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(r=t.version?t.version.toString():"undefined")in gn?gn[r](t,e):0;var r}),(function(r){if(404===r.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(r){return bn(r)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw r}))})).catch((function(e){if(404!==e.status)throw e;return 0}))},q()(Mn,z()),Mn.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Mn.prototype.ready=function(e,t){var r=this;function n(){r.cancel()}r._readyCalled||(r._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),r.once("complete",(function(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)})))},q()(Sn,z()),Sn.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},yt.plugin((function(e){e.adapter("idb",xr,!0)})).plugin((function(e){e.adapter("http",Ir,!1),e.adapter("https",Ir,!1)})).plugin(dn).plugin((function(e){e.replicate=An,e.sync=Cn,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,r,n){return e.constructor.replicate(t,e,r,n)},to:function(t,r,n){return e.constructor.replicate(e,t,r,n)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}));const jn=yt;var On=r(87),xn="0.0.1",En="settings",Pn={_id:En,version:xn},qn=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{a(n.next(e))}catch(e){s(e)}}function u(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}a((n=n.apply(e,t||[])).next())}))},Dn=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},zn=new RegExp("^[A-Za-z0-9.-]+$");function Nn(e){return qn(this,void 0,void 0,(function(){var t,r,n,o,s,i,u;return Dn(this,(function(a){switch(a.label){case 0:if(console.group("Starting migrations..."),!zn.test(xn))throw new Error("Version '"+xn+"' contained invalid characters!");t="0.0.0",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.get(En)];case 2:return t=a.sent().version,[3,4];case 3:return r=a.sent(),console.assert("not_found"===r.name,"Unknown error retrieving current version!"),[3,4];case 4:if(!(t<xn))return[3,11];if(void 0===(n=Rn[t]))throw console.groupEnd(),new Error("No migration path from "+t+" to "+xn+".");console.group("Migrating from "+t+" to "+n.nextVersion+"..."),o=0,s=n.operations,a.label=5;case 5:if(!(o<s.length))return[3,10];i=s[o],a.label=6;case 6:return a.trys.push([6,8,,9]),console.groupCollapsed("Running '"+i.name+"'..."),[4,i.run(e)];case 7:return a.sent(),console.log("Done"),console.groupEnd(),[3,9];case 8:throw u=a.sent(),console.groupEnd(),console.groupEnd(),console.groupEnd(),console.error("Migration operation failed!: "+u),u;case 9:return o++,[3,5];case 10:return t=n.nextVersion,console.log("Migrated to "+t),console.groupEnd(),[3,4];case 11:return console.log("Migrations complete"),console.groupEnd(),[2]}}))}))}var Rn={"0.0.0":{nextVersion:"0.0.1",operations:[{name:"initialize_settings",run:function(e){return qn(void 0,void 0,void 0,(function(){return Dn(this,(function(t){switch(t.label){case 0:return[4,e.put(Pn)];case 1:return t.sent(),[2]}}))}))},revert:function(e){return qn(void 0,void 0,void 0,(function(){var t,r;return Dn(this,(function(n){switch(n.label){case 0:return r=(t=e).remove,[4,e.get(En)];case 1:return[4,r.apply(t,[n.sent()])];case 2:return n.sent(),[2]}}))}))}}]}};function Ln(e){if(e.site)return e.site;if(e.siteName&&e.siteName in w)return w[e.siteName];throw console.error(e),new Error("Cannot deserialize account. No site definition found!")}var In,$n,Bn,Un=(In=function(e,t){return(In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}In(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Fn=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{a(n.next(e))}catch(e){s(e)}}function u(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}a((n=n.apply(e,t||[])).next())}))},Gn=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},Jn={},Zn={},Kn=function(){function e(e,t,r){this.rev="",this.createdAt=new Date,this.site=e,this.userName=t,this.id=Co(["account",this.site.name,this.userName],r)}return e.factory=function(e){return Fn(this,void 0,void 0,(function(){return Gn(this,(function(t){switch(t.label){case 0:return e.type!==$n.DISCOVERED?[3,2]:[4,Wn.deserialize(e)];case 1:return[2,t.sent()];case 2:return e.type!==$n.CLAIMED?[3,4]:[4,Vn.deserialize(e)];case 3:return[2,t.sent()];case 4:return e.type!==$n.REJECTED?[3,6]:[4,Hn.deserialize(e)];case 5:return[2,t.sent()];case 6:return e.type!==$n.MANUAL?[3,8]:[4,Qn.deserialize(e)];case 7:return[2,t.sent()];case 8:return e.type!==$n.UNREGISTERED?[3,10]:[4,Yn.deserialize(e)];case 9:return[2,t.sent()];case 10:throw new Error("Cannot deserialize unhandled account type '"+e.type+"'")}}))}))},e.loadAll=function(t){return Fn(this,void 0,void 0,(function(){var r,n,o,s,i,u,a,c;return Gn(this,(function(l){switch(l.label){case 0:return[4,wo()];case 1:return[4,l.sent().allDocs({include_docs:!0,startkey:Co(["account"],t),endkey:Co(["account",Ao],t)})];case 2:r=l.sent(),n=[],o=0,s=r.rows,l.label=3;case 3:return o<s.length?(i=s[o],void 0===(u=i.doc)?(console.error("Received undefined document! Did you pass include_docs: true?"),[3,7]):void 0===u.userName?[3,7]:u._id in Jn?(n.push(Jn[u._id]),[3,7]):[3,4]):[3,8];case 4:return l.trys.push([4,6,,7]),[4,e.deserialize(u)];case 5:return a=l.sent(),n.push(a),[3,7];case 6:return c=l.sent(),console.debug(u),console.debug(c),console.warn("Skipping account '"+u._id+"'.\nFailed to deserialize:\n"+c),[3,7];case 7:return o++,[3,3];case 8:return[2,n]}}))}))},e.deserialize=function(t,r){return Fn(this,void 0,void 0,(function(){var n;return Gn(this,(function(o){switch(o.label){case 0:return r&&t._id.endsWith(r.id)&&(r.id=t._id),So(t,r),(n=r)?[3,2]:[4,e.factory(t)];case 1:n=o.sent(),o.label=2;case 2:return(r=n).id=t._id,r.rev=t._rev,r.type=t.type,r.createdAt=new Date(t.createdAt),r.userName=t.userName,r.site=Ln(t),r.id.startsWith("search")?Zn[r.id]=r:Jn[r.id]=r,[2,r]}}))}))},Object.defineProperty(e.prototype,"url",{get:function(){return this.site.url.replace("{}",this.userName)},enumerable:!1,configurable:!0}),e.prototype.save=function(){return Fn(this,void 0,void 0,(function(){var e;return Gn(this,(function(t){switch(t.label){case 0:return console.debug("Saving "+this.type.toLowerCase()+" account "+this.id+"..."),[4,wo()];case 1:return[4,t.sent().put(this.serialize())];case 2:if((e=t.sent()).ok)return this.rev=e.rev,this.id.startsWith("search")?Zn[this.id]=this:Jn[this.id]=this,[2,e];throw console.error(e),new Error("Failed to save account!")}}))}))},e.prototype.serialize=function(){return{_id:this.id,_rev:this.rev,type:this.type,createdAt:this.createdAt.toJSON(),siteName:this.site.name,userName:this.userName}},e}(),Wn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=$n.DISCOVERED,t.confidence=5,t.matchedFirstNames=[],t.matchedLastNames=[],t.actionTaken=Bn.NONE,t}return Un(t,e),t.deserialize=function(r,n){return Fn(this,void 0,void 0,(function(){var o,s;return Gn(this,(function(i){switch(i.label){case 0:return o=Ln(r),s=n||new t(o,r.userName),[4,e.deserialize.call(this,r,s)];case 1:return i.sent(),s.confidence=r.confidence,s.matchedFirstNames=r.matchedFirstNames,s.matchedLastNames=r.matchedLastNames,s.actionTaken=r.actionTaken,[2,s]}}))}))},t.prototype.claim=function(){return Fn(this,void 0,void 0,(function(){var e,t;return Gn(this,(function(r){switch(r.label){case 0:if(this.actionTaken===Bn.CLAIMED)throw new Error("'"+this.id+"' has already been claimed!");if((e=new Vn(this.site,this.userName)).id in Jn)throw new Error("Account with "+e.id+" already exists!");return(t=this.serialize()).claimedAt=(new Date).toJSON(),t._id=e.id,t._rev="",t.type=e.type,[4,Vn.deserialize(t,e)];case 1:return r.sent(),this.actionTaken=Bn.CLAIMED,[4,this.save()];case 2:return r.sent(),[4,e.save()];case 3:return r.sent(),[2,e]}}))}))},t.prototype.reject=function(){return Fn(this,void 0,void 0,(function(){var e,t;return Gn(this,(function(r){switch(r.label){case 0:if(this.actionTaken===Bn.REJECTED)throw new Error("'"+this.id+"' has already been rejected!");if((e=new Hn(this.site,this.userName)).id in Jn)throw new Error("Account with "+e.id+" already exists!");return(t=this.serialize()).rejectedAt=(new Date).toJSON(),t._id=e.id,t._rev="",t.type=e.type,[4,Hn.deserialize(t,e)];case 1:return r.sent(),this.actionTaken=Bn.REJECTED,[4,this.save()];case 2:return r.sent(),[4,e.save()];case 3:return r.sent(),[2,e]}}))}))},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.confidence=this.confidence,t.matchedFirstNames=this.matchedFirstNames,t.matchedLastNames=this.matchedLastNames,t.actionTaken=this.actionTaken,t},t}(Kn),Vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=$n.CLAIMED,t.claimedAt=new Date,t}return Un(t,e),t.deserialize=function(r,n){return Fn(this,void 0,void 0,(function(){var o,s;return Gn(this,(function(i){switch(i.label){case 0:return o=Ln(r),s=n||new t(o,r.userName),[4,e.deserialize.call(this,r,s)];case 1:return i.sent(),s.claimedAt=new Date(r.claimedAt),[2,s]}}))}))},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.claimedAt=this.claimedAt.toJSON(),t},t}(Wn),Hn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=$n.REJECTED,t.rejectedAt=new Date,t}return Un(t,e),t.deserialize=function(r,n){return Fn(this,void 0,void 0,(function(){var o,s;return Gn(this,(function(i){switch(i.label){case 0:return o=Ln(r),s=n||new t(o,r.userName),[4,e.deserialize.call(this,r,s)];case 1:return i.sent(),s.rejectedAt=new Date(r.rejectedAt),[2,s]}}))}))},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.rejectedAt=this.rejectedAt.toJSON(),t},t}(Wn),Qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=$n.MANUAL,t.lastEditedAt=new Date,t}return Un(t,e),t.deserialize=function(r,n){return Fn(this,void 0,void 0,(function(){var o,s;return Gn(this,(function(i){switch(i.label){case 0:return o=Ln(r),s=n||new t(o,r.userName),[4,e.deserialize.call(this,r,s)];case 1:return i.sent(),s.lastEditedAt=new Date(r.lastEditedAt),[2,s]}}))}))},t.prototype.edit=function(){throw new Error("Not implemented!")},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.lastEditedAt=this.lastEditedAt.toJSON(),t},t}(Kn),Yn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=$n.UNREGISTERED,t}return Un(t,e),t.deserialize=function(r,n){return Fn(this,void 0,void 0,(function(){var o,s;return Gn(this,(function(i){switch(i.label){case 0:return o=Ln(r),s=n||new t(o,r.userName),[4,e.deserialize.call(this,r,s)];case 1:return i.sent(),[2,s]}}))}))},t.prototype.serialize=function(){return e.prototype.serialize.call(this)},t}(Kn);function Xn(e,t,n){void 0===n&&(n=1e4);var o=new AbortController;return setTimeout((function(){return o.abort()}),n),t.signal=o.signal,On.UG?r(300)(e,t):fetch(e,t)}!function(e){e.DISCOVERED="Discovered",e.CLAIMED="Claimed",e.REJECTED="Rejected",e.MANUAL="Manual",e.UNREGISTERED="Unregistered"}($n||($n={})),function(e){e.NONE="None",e.CLAIMED="Claimed",e.REJECTED="Rejected"}(Bn||(Bn={}));var eo,to=function(){return(to=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ro=function(e,t,r){return n=void 0,o=void 0,i=function(){var n,o,s,i,u,a,c,l,d,h,f,p,m,v,_,g,w,y;return function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}(this,(function(b){switch(b.label){case 0:switch(n=e.errorType,o=e.url,s=e.errorMsg,i=e.errorUrl,u=e.urlProbe,a=e.headers||{},c=e.request_head_only||!0,l=r?Co(["searchResult"],r.id):void 0,d=void 0===u?o.replace("{}",t):u.replace("{}",t),h=oo(n,a,c),f=!1,n){case"status_code":return[3,1];case"message":return[3,3];case"response_url":return[3,5]}return[3,7];case 1:return[4,Xn(d,h).catch((function(t){console.log(e.urlMain+" - ERROR! - "+t)}))];case 2:return p=b.sent(),f=void 0!==p&&p.status>=200&&p.status<300,[3,7];case 3:return[4,Xn(d,h).then((function(e){return e.text()})).catch((function(t){console.log(e.urlMain+" - ERROR! - "+t)}))];case 4:if(m=b.sent(),void 0===s)f=!1;else if("string"==typeof s)f=!no(m,s);else{for(v=0,_=s;v<_.length;v++)g=_[v],no(m,g)&&(f=!1);f=!0}return[3,7];case 5:return[4,Xn(d,h).catch((function(t){console.log(e.urlMain+" - ERROR! - "+t)}))];case 6:return w=b.sent(),y=null==i?void 0:i.replace("{}",t),f=void 0!==w&&w.url!==y,[3,7];case 7:return f?[2,new Wn(e,t,l)]:[2,new Yn(e,t,l)]}}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{a(i.next(e))}catch(e){t(e)}}function u(e){try{a(i.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(r,u)}a((i=i.apply(n,o||[])).next())}));var n,o,s,i},no=function(e,t){return void 0===e||e.includes(t)},oo=function(e,t,r){var n="GET";return"status_code"===e&&(void 0!==r&&!0!==r||(n="HEAD")),to({method:n},t)},so=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{a(n.next(e))}catch(e){s(e)}}function u(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}a((n=n.apply(e,t||[])).next())}))},io=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},uo={},ao={},co=function(){function e(t,r){this.rev="",this.createdAt=new Date,this.lastEditedAt=new Date,this.includedSites=[],this.userNames=[],this.firstNames=[],this.lastNames=[],this.history=[],this.name=t||"Search #"+ ++e.idForDefaultName;for(var n=0,o=r=r||Object.keys(w);n<o.length;n++){var s=o[n];s in w?this.includedSites.push(w[s]):console.warn("Could not add site '"+s+"'. No definition found!")}this.id=Co(["searchDef",this.createdAt.toJSON(),this.name])}return e.loadAll=function(t){return so(this,void 0,void 0,(function(){var r,n,o,s,i,u,a,c;return io(this,(function(l){switch(l.label){case 0:return[4,wo()];case 1:return[4,l.sent().allDocs({include_docs:!0,startkey:Co(["searchDef"],t),endkey:Co(["searchDef",Ao],t)})];case 2:r=l.sent(),console.debug(r),n=[],o=0,s=r.rows,l.label=3;case 3:return o<s.length?(i=s[o],void 0===(u=i.doc)?(console.error("Received undefined document! Did you pass include_docs: true?"),[3,7]):void 0===u.includedSiteNames?[3,7]:u._id in uo?(n.push(uo[u._id]),[3,7]):[3,4]):[3,8];case 4:return l.trys.push([4,6,,7]),[4,e.deserialize(u)];case 5:return a=l.sent(),n.push(a),[3,7];case 6:return c=l.sent(),console.debug(u),console.debug(c),console.warn("Skipping search definition '"+u._id+"'.\nFailed to deserialize:\n"+c),[3,7];case 7:return o++,[3,3];case 8:return[2,n]}}))}))},e.deserialize=function(t,r){return so(this,void 0,void 0,(function(){var n,o,s,i,u;return io(this,(function(a){switch(a.label){case 0:return So(t,r),(n=r||new e(t.name,t.includedSiteNames)).id=t._id,n.name=t.name,n.rev=t._rev,n.createdAt=new Date(t.createdAt),n.lastEditedAt=new Date(t.lastEditedAt),n.userNames=t.userNames,n.firstNames=t.firstNames,n.lastNames=t.lastNames,uo[n.id]=n,[4,lo.loadAll(n.id)];case 1:for(o=a.sent(),n.history.length=0,s=0,i=o;s<i.length;s++)u=i[s],n.history.push(u);return[2,n]}}))}))},Object.defineProperty(e.prototype,"completedHistory",{get:function(){return this.history.filter((function(e){return e.state===eo.COMPLETED}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastRun",{get:function(){for(var e=null,t=0,r=this.completedHistory;t<r.length;t++){var n=r[t];(null===e||n.startedAt&&e.startedAt&&n.startedAt>=e.startedAt)&&(e=n)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastRunAt",{get:function(){return this.lastRun?this.lastRun.startedAt:null},enumerable:!1,configurable:!0}),e.prototype.new=function(){return so(this,void 0,void 0,(function(){var e;return io(this,(function(t){switch(t.label){case 0:return e=new lo(this),this.history.push(e),[4,e.save()];case 1:return t.sent(),[2,e]}}))}))},e.prototype.clear=function(){console.warn("TODO: Remove from the database"),this.history.length=0},e.prototype.delete=function(){throw new Error("Not implemented yet!")},e.prototype.save=function(){return so(this,void 0,void 0,(function(){var e;return io(this,(function(t){switch(t.label){case 0:return console.debug("Saving search definition "+this.id+"..."),[4,wo()];case 1:return[4,t.sent().put(this.serialize())];case 2:if((e=t.sent()).ok)return this.rev=e.rev,uo[this.id]=this,[2,e];throw console.error(e),new Error("Failed to save search definition!")}}))}))},e.prototype.serialize=function(){return{_id:this.id,_rev:this.rev,name:this.name,createdAt:this.createdAt.toJSON(),lastEditedAt:this.lastEditedAt.toJSON(),includedSiteNames:this.includedSites.map((function(e){return e.name})),userNames:this.userNames,firstNames:this.firstNames,lastNames:this.lastNames}},e.idForDefaultName=0,e}(),lo=function(){function e(e){this.rev="",this.state=eo.CREATED,this.startedAt=null,this.endedAt=null,this.events=new D.EventEmitter,this.results=[],this.resultsById={},this.resultsMap={},this.resultsBySite={},this.resultsByUser={},this.definition=e,this.id=Co(["search",(new Date).toJSON()],this.definition.id)}return e.loadAll=function(t){return so(this,void 0,void 0,(function(){var r,n,o,s,i,u,a,c;return io(this,(function(l){switch(l.label){case 0:return[4,wo()];case 1:return[4,l.sent().allDocs({include_docs:!0,startkey:Co(["search"],t),endkey:Co(["search",Ao],t)})];case 2:r=l.sent(),console.debug(r),n=[],o=0,s=r.rows,l.label=3;case 3:return o<s.length?(i=s[o],void 0===(u=i.doc)?(console.error("Received undefined document! Did you pass include_docs: true?"),[3,7]):void 0===u.definitionId?[3,7]:u._id in ao?(n.push(ao[u._id]),[3,7]):[3,4]):[3,8];case 4:return l.trys.push([4,6,,7]),[4,e.deserialize(u)];case 5:return a=l.sent(),n.push(a),[3,7];case 6:return c=l.sent(),console.debug(u),console.debug(c),console.warn("Skipping search '"+u._id+"'.\nFailed to deserialize:\n"+c),[3,7];case 7:return o++,[3,3];case 8:return[2,n]}}))}))},e.deserialize=function(t,r){return so(this,void 0,void 0,(function(){var n,o,s,i,u,a,c,l,d,h;return io(this,(function(f){switch(f.label){case 0:return So(t,r),[4,wo()];case 1:return n=f.sent(),r?(o=r.definition,[3,8]):[3,2];case 2:return t.definitionId in uo?(o=uo[t.definitionId],[3,8]):[3,3];case 3:return f.trys.push([3,6,,7]),[4,n.get(t.definitionId)];case 4:return s=f.sent(),[4,co.deserialize(s)];case 5:return o=f.sent(),[3,7];case 6:throw i=f.sent(),console.debug(i),new Error("Failed to deserialize search definition '"+t.definitionId+"': "+i);case 7:if(!(t._id in ao))throw new Error("SearchDefinition.deserialize() did not create search '"+t._id+"'!");return[2,ao[t._id]];case 8:return(u=r||new e(o)).id=t._id,u.rev=t._rev,u.definition=o,u.state=t.state,u.startedAt=t.startedAt?new Date(t.startedAt):null,u.endedAt=t.endedAt?new Date(t.endedAt):null,ao[u.id]=u,a=Co(["searchResult"],u.id),[4,Kn.loadAll(a)];case 9:for(c=f.sent(),l=0,d=c;l<d.length;l++)h=d[l],u.storeResult(h);return[2,u]}}))}))},Object.defineProperty(e.prototype,"progress",{get:function(){var e=this.definition.includedSites.length*this.definition.userNames.length;return 0===e?100:Math.round(Object.values(this.results).length/e*100)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"discoveredResults",{get:function(){return this.results.filter((function(e){return e instanceof Wn}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unregisteredResults",{get:function(){return this.results.filter((function(e){return e instanceof Yn}))},enumerable:!1,configurable:!0}),e.prototype.start=function(){return so(this,void 0,void 0,(function(){var e,t;return io(this,(function(r){switch(r.label){case 0:if(e="",this.state===eo.CREATED)e="Starting";else{if(this.state!==eo.PAUSED)throw new Error("Cannot call start() while state is '"+this.state+"'!");e="Resuming"}console.groupCollapsed(e+" search..."),this.state=eo.IN_PROGRESS,this.startedAt=new Date,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.doSearch()];case 2:return r.sent(),console.assert(100===this.progress,"Finished search did not have 100% progress!"),this.state=eo.COMPLETED,[3,4];case 3:return t=r.sent(),console.error("Search failed!:"),console.error(t),this.state=eo.FAILED,[3,4];case 4:return this.endedAt=new Date,[4,this.save()];case 5:return r.sent(),console.groupEnd(),[2]}}))}))},e.prototype.cancel=function(){return so(this,void 0,void 0,(function(){var e;return io(this,(function(t){switch(t.label){case 0:if(e="",this.state===eo.IN_PROGRESS)e="active";else{if(this.state!==eo.PAUSED)throw new Error("Cannot call cancel() while state is '"+this.state+"'!");e="paused"}return console.log("Cancelling "+e+" search..."),this.state=eo.CANCELLED,this.endedAt=new Date,[4,this.save()];case 1:return t.sent(),[2]}}))}))},e.prototype.doSearch=function(){return so(this,void 0,void 0,(function(){var e,t,r,n,o,s,i;return io(this,(function(u){switch(u.label){case 0:e=0,t=this.definition.includedSites,u.label=1;case 1:if(!(e<t.length))return[3,7];r=t[e],n=0,o=this.definition.userNames,u.label=2;case 2:if(!(n<o.length))return[3,6];if(s=o[n],r.name in this.resultsMap){if(s in this.resultsMap[r.name])return[3,5]}else if(r.omit)return console.warn(r.name+" omitted."),[3,5];return console.log("Checking "+r.name+"..."),[4,ro(r,s,this)];case 3:return[4,(i=u.sent()).save()];case 4:u.sent(),this.storeResult(i),u.label=5;case 5:return n++,[3,2];case 6:return e++,[3,1];case 7:return[2]}}))}))},e.prototype.storeResult=function(e){var t=e.site;t.name in this.resultsMap&&e.userName in this.resultsMap[t.name]||(this.results.push(e),this.resultsById[e.id]=e,this.resultsMap[t.name]=this.resultsMap[t.name]||{},this.resultsMap[t.name][e.userName]=e,this.resultsBySite[t.name]=this.resultsBySite[t.name]||[],this.resultsBySite[t.name].push(e),this.resultsByUser[e.userName]=this.resultsByUser[e.userName]||[],this.resultsByUser[e.userName].push(e),Zn[e.id]=e,this.events.emit("result",e.id))},e.prototype.save=function(){return so(this,void 0,void 0,(function(){var e;return io(this,(function(t){switch(t.label){case 0:return 0!==this.definition.rev.length?[3,2]:[4,this.definition.save()];case 1:t.sent(),t.label=2;case 2:return console.debug("Saving search "+this.id+"..."),[4,wo()];case 3:return[4,t.sent().put(this.serialize())];case 4:if((e=t.sent()).ok)return this.rev=e.rev,ao[this.id]=this,[2,e];throw console.error(e),new Error("Failed to save search definition!")}}))}))},e.prototype.serialize=function(){return{_id:this.id,_rev:this.rev,state:this.state,startedAt:this.startedAt?this.startedAt.toJSON():null,endedAt:this.endedAt?this.endedAt.toJSON():null,definitionId:this.definition.id}},e}();!function(e){e.CREATED="Created",e.IN_PROGRESS="In progress",e.PAUSED="Paused",e.CANCELLED="Cancelled",e.COMPLETED="Completed",e.FAILED="Failed"}(eo||(eo={}));var ho=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{a(n.next(e))}catch(e){s(e)}}function u(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}a((n=n.apply(e,t||[])).next())}))},fo=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},po=null,mo=null,vo=null,_o="trace",go={};function wo(){return ho(this,void 0,void 0,(function(){return fo(this,(function(e){switch(e.label){case 0:return po?[2,po]:[4,bo()];case 1:return[2,e.sent()]}}))}))}function yo(){return ho(this,void 0,void 0,(function(){return fo(this,(function(e){switch(e.label){case 0:return[4,To()];case 1:return e.sent(),console.log("Cleared database"),[2]}}))}))}function bo(){return ho(this,void 0,void 0,(function(){var e,t,r;return fo(this,(function(n){switch(n.label){case 0:if(po)return[2,po];console.debug("Browser: "+On.jU+" \nNode: "+On.UG+" \nJSDOM: "+(0,On.f7)()),po=new jn(_o,go),console.debug(po),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,po.info()];case 2:return e=n.sent(),console.debug("Local database information:"),console.debug(e),[3,4];case 3:throw t=n.sent(),console.error("Could not get local database information!"),t;case 4:return n.trys.push([4,6,,7]),[4,Nn(po)];case 5:return n.sent(),[3,7];case 6:throw r=n.sent(),console.error("Database migrations failed!"),r;case 7:return[2,po]}}))}))}function ko(){return ho(this,void 0,void 0,(function(){var e,t,r;return fo(this,(function(n){switch(n.label){case 0:if(mo&&vo)return console.log("Replication already setup"),[2];if(0==="".length)throw new Error("Could not authenticate to CouchDB! No password is present");return console.log("Setting up replication..."),[4,wo()];case 1:e=n.sent();try{t=new jn("https://couchdb.tracedigital.tk:6984/trace",{auth:{username:"admin",password:""}})}catch(e){throw new Error("Could not connect to CouchDB!")}console.log("Connected to remote database");try{r=e.replicate.to(t,{live:!0,since:0}).on("active",(function(){console.log("Replication is active")})).on("paused",(function(e){console.log("Replication is paused"),console.log(e)})).on("denied",(function(e){console.warn("Replication denied!"),console.warn(e)})).on("change",(function(e){console.log("Replicating change...")})).on("complete",(function(e){console.log("Replication complete"),console.log(e)})).on("error",(function(e){console.error("Replication error!"),console.error(e)}))}catch(e){throw new Error("Could not replicate to CouchDB!")}return console.log("Replication setup"),mo=t,[2,{TODO_replication:vo=r}]}}))}))}function Mo(){return ho(this,void 0,void 0,(function(){var e,t,r,n=this;return fo(this,(function(o){switch(o.label){case 0:console.log("Tearing down replication..."),e=mo,mo=null;try{vo&&(vo.cancel(),vo=null,console.log("Cancelled replication"))}catch(e){console.error("Could not cancel replication"),console.error(e)}if(!e)return[3,7];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.allDocs()];case 2:return o.sent().rows.map((function(t){return ho(n,void 0,void 0,(function(){return fo(this,(function(r){switch(r.label){case 0:return[4,e.remove(t.id,t.value.rev)];case 1:return r.sent(),[2]}}))}))})),console.log("Cleaned remote database"),[3,4];case 3:return t=o.sent(),console.error("Could not clean up remote database"),console.error(t),[3,4];case 4:return o.trys.push([4,6,,7]),[4,e.close()];case 5:return o.sent(),console.log("Closed remote database"),[3,7];case 6:return r=o.sent(),console.error("Could not close remote database"),console.error(r),[3,7];case 7:return[2]}}))}))}function To(e){return void 0===e&&(e=_o),ho(this,void 0,void 0,(function(){var t,r,n,o,s,i;return fo(this,(function(u){switch(u.label){case 0:return po&&po.name===e?[4,po.destroy()]:[3,2];case 1:return u.sent(),po=null,[3,4];case 2:return[4,new jn(e,go).destroy()];case 3:u.sent(),u.label=4;case 4:for(t=0,r=[Jn,ao,uo];t<r.length;t++)for(n=r[t],o=0,s=Object.getOwnPropertyNames(n);o<s.length;o++)i=s[o],delete n[i];return[2]}}))}))}var Ao="￰";function Co(e,t){return t&&(e=[t].concat(e)),e.join("/")}function So(e,t){if(t&&t.id!==e._id)throw console.error("ID mismatch: "+t.id+" !== "+e._id),new Error("Illegal operation! Deserialization onto this instance would change its id")}},684:(e,t)=>{"use strict";function r(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var o=n.element,s=n.index;Array.isArray(o)?o.push(e):s===t.length-2?o[t.pop()]=e:t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var r,n,o,s,i,u,a,c,l,d,h="";r=t.pop();)if(n=r.obj,h+=r.prefix||"",o=r.val||"")h+=o;else if("object"!=typeof n)h+=void 0===n?null:JSON.stringify(n);else if(null===n)h+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),s=n.length-1;s>=0;s--)i=0===s?"":",",t.push({obj:n[s],prefix:i});t.push({val:"["})}else{for(a in u=[],n)n.hasOwnProperty(a)&&u.push(a);for(t.push({val:"}"}),s=u.length-1;s>=0;s--)l=n[c=u[s]],d=s>0?",":"",d+=JSON.stringify(c)+":",t.push({obj:l,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,o,s,i,u,a,c,l,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,r(null,d,h);break;case"t":f+=3,r(!0,d,h);break;case"f":f+=4,r(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(o=e[f++],!/[\d\.\-e\+]/.test(o)){f--;break}n+=o}r(parseFloat(n),d,h);break;case'"':for(s="",i=void 0,u=0;'"'!==(a=e[f++])||"\\"===i&&u%2==1;)s+=a,"\\"===(i=a)?u++:u=0;r(JSON.parse('"'+s+'"'),d,h);break;case"[":c={element:[],index:d.length},d.push(c.element),h.push(c);break;case"{":l={element:{},index:d.length},d.push(l.element),h.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,h)}}},692:()=>{}},n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={exports:{}};return r[e](t,t.exports,o),t.exports}return o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var s=Object.create(null);o.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var u=2&n&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,o.d(s,i),s},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(34)})()}));
//# sourceMappingURL=trace-search.min.js.map